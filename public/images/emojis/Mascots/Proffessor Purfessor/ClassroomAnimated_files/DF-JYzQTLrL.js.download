;/*FB_PKG_DELIM*/

__d("KadabraAppExperienceDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{}},root:r("JSResourceForInteraction")("KadabraAppExperienceDialog.react").__setRef("KadabraAppExperienceDialog.entrypoint")};l.default=e}),98);
__d("KadabraConcordFullscreenShellBackground.react",["CometImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState,c={backgroundImage:{filter:"x13ah0lx",height:"xxstduh",top:"x13vifvy",insetInlineStart:"x1o0tod",left:null,right:null,objectFit:"xl1xv1r",opacity:"xbyyjgo",position:"x10l6tqk",transform:"x11lhmoz",width:"x17sjpaz",zIndex:"x1ja2u2z",$$css:!0},fade:{animationDuration:"x4afe7t",animationFillMode:"x1u6ievf",animationTimingFunction:"x1debuo4",mixBlendMode:"x5sty4q",willChange:"x1larqbn",$$css:!0},fadeIn:{animationName:"x1j4p4jw",$$css:!0},fadeOut:{animationName:"xsuiv4y",$$css:!0},hidden:{display:"x1s85apg",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(13),n=e.backgroundImage,a=u(null),i=a[0],l=a[1],d=u(null),m=d[0],p=d[1],_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 xal61yo x1u9q23r x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3 x8knxv4"},t[0]=_):_=t[0];var f;t[1]!==n||t[2]!==i?(f=n!=null&&s.jsx(r("CometImage.react"),{onLoad:function(){n!==i&&(p(i),l(n))},src:n,xstyle:c.hidden},"preloader"),t[1]=n,t[2]=i,t[3]=f):f=t[3];var g;t[4]!==i||t[5]!==m?(g=i!=null&&s.jsx(r("CometImage.react"),{src:i,xstyle:[c.backgroundImage,c.fade,m!=null&&c.fadeIn]},i),t[4]=i,t[5]=m,t[6]=g):g=t[6];var h;t[7]!==m?(h=m!=null&&s.jsx(r("CometImage.react"),{src:m,xstyle:[c.backgroundImage,c.fade,c.fadeOut]},m),t[7]=m,t[8]=h):h=t[8];var y;return t[9]!==f||t[10]!==g||t[11]!==h?(y=s.jsxs("div",babelHelpers.extends({},_,{children:[f,g,h]})),t[9]=f,t[10]=g,t[11]=h,t[12]=y):y=t[12],y}l.default=d}),98);
__d("KadabraImagineVideoEditorContext.react",["react","react-compiler-runtime","useMergeRefs","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.startTransition,d=u.use,m=u.useCallback,p=u.useEffect,_=u.useMemo,f=u.useRef,g=u.useState,h={containerRef:null,playableVideoHeight:0,playableVideoWidth:0,setVideoDimensions:function(t,n){},videoHeight:0,videoWidth:0},y=s.createContext(h);function C(e,t,n,r,o){if(o===void 0&&(o=!1),e<=0||t<=0||n<=0||r<=0)return{height:0,width:0};var a=e/t,i=n,l=n/a;return l>r&&(l=r,i=r*a),o||(i=Math.min(i,e),l=Math.min(l,t)),{height:l,width:i}}function b(e){var t=o("react-compiler-runtime").c(24),n=e.children,a=e.expandToFillContainer,i=e.paddingOverride,l=a===void 0?!1:a,u=g(0),d=u[0],m=u[1],_=g(0),h=_[0],b=_[1],v=g(0),S=v[0],R=v[1],L=g(0),E=L[0],k=L[1],I=f(null),T=f(null),D;t[0]!==i?(D=i!=null?i:{horizontal:0,vertical:0},t[0]=i,t[1]=D):D=t[1];var x=D,$;t[2]!==l||t[3]!==x.horizontal||t[4]!==x.vertical||t[5]!==h||t[6]!==d?($=function(t){var e=t.width-x.horizontal*2,n=t.height-x.vertical*2,r=I.current,o=T.current;if(r!==e||o!==n||r!==d||o!==h){var a=C(d,h,e,n,l),i=a.height,s=a.width;c(function(){R(s),k(i)})}I.current=e,T.current=n},t[2]=l,t[3]=x.horizontal,t[4]=x.vertical,t[5]=h,t[6]=d,t[7]=$):$=t[7];var P=$,N=f(null),M=r("useResizeObserver")(P),w=r("useMergeRefs")(M,N),A,F;t[8]!==P?(A=function(){if(N.current){var e=N.current.getBoundingClientRect();P(e)}},F=[P],t[8]=P,t[9]=A,t[10]=F):(A=t[9],F=t[10]),p(A,F);var O;t[11]!==h||t[12]!==d?(O=function(t,n){(t!==d||n!==h)&&(m(t),b(n))},t[11]=h,t[12]=d,t[13]=O):O=t[13];var B;t[14]!==w||t[15]!==E||t[16]!==S||t[17]!==O||t[18]!==h||t[19]!==d?(B={containerRef:w,playableVideoHeight:E,playableVideoWidth:S,setVideoDimensions:O,videoHeight:h,videoWidth:d},t[14]=w,t[15]=E,t[16]=S,t[17]=O,t[18]=h,t[19]=d,t[20]=B):B=t[20];var W=B,q;return t[21]!==n||t[22]!==W?(q=s.jsx(y.Provider,{value:W,children:n}),t[21]=n,t[22]=W,t[23]=q):q=t[23],q}function v(){return d(y)}l.KadabraImagineVideoEditorContextProvider=b,l.useKadabraImagineVideoEditorContext=v}),98);
__d("KadabraImagineVideoRootContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({activeVideoId:null,attachments:[],canDownload:!1,hasAvailableQuota:!1,isContextAvailable:!1,isGenerateButtonDisabled:!1,isNavigatingToNewProject:!1,isNullState:!0,isPromptDirty:!1,isPublicPost:!1,isUploading:!1,mutations:{},onGenerate:r("emptyFunction"),onPromptChange:r("emptyFunction"),originalVideoMetadata:null,preloadedMedia:null,projectId:null,projectSourceContent:null,prompt:"",quotaRemaining:null,selectedMutation:null,selectedPresetID:null,setAttachments:r("emptyFunction"),setIsPassthroughAudio:r("emptyFunction"),setSelectedMutation:r("emptyFunction"),updateMutation:r("emptyFunction"),videoStatus:null});l.default=u}),98);
__d("KadabraUpsellDialogStorage",["FBLogger","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="kadabra_upsell_dialog_count",u=2,c=1440*60*1e3;function d(){try{var t=(e||(e=r("WebStorage"))).getLocalStorage();if(t!=null){var n=t.getItem(s);if(n!=null){var o,a=JSON.parse(n);return{lastShownTimestamp:a.lastShownTimestamp,showCount:(o=a.showCount)!=null?o:0}}}}catch(e){}return{showCount:0}}function m(){try{var t=(e||(e=r("WebStorage"))).getLocalStorage();if(t!=null){var n=d(),o={lastShownTimestamp:Date.now(),showCount:n.showCount+1};t.setItem(s,JSON.stringify(o))}}catch(e){}}function p(){var e=d(),t=e.lastShownTimestamp;if(t!=null){var n=Date.now()-t;if(n>=c)return _(),!0}return e.showCount<u}function _(){try{var t=(e||(e=r("WebStorage"))).getLocalStorage();t!=null&&t.removeItem(s)}catch(e){}}l.getDialogShowData=d,l.incrementDialogShowCount=m,l.canShowDialog=p,l.resetDialogShowCount=_}),98);
__d("useBrowserStorage__UNSAFE",["FBLogger","isStringNullOrEmpty","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){var o=u(function(){if(!e||t==null)return n;var o=e.getItem(t);try{return r("isStringNullOrEmpty")(o)?n:JSON.parse(o)}catch(e){return n}},[n,t,e]),a=m(o),i=a[0],l=a[1],s=d(i),p=d(!1);c(function(){if(!e||t==null)return;function n(n){if(p.current)try{var o=JSON.stringify(n);if(o==null)return;e.setItem(t,o),p.current=!1}catch(t){var a=t;a!=null&&a.code===22&&e.clear();var i=r("FBLogger")("use_local_storage");a instanceof Error&&(i=i.catching(a)),i.warn("Cannot save to local storage.")}}return n(i),function(){n(s.current)}},[t,e,i]);var _=u(function(e){return typeof e=="function"?s.current=e(s.current):s.current=e,p.current=!0,l(e)},[]),f=u(function(e){_(e),p.current=!1},[_]),g=u(function(){var e=o();return _(e),p.current=!1,e},[o,_]);return[i,_,{refreshValue:g,setValueWithoutPersistence:f}]}l.default=p}),98);
__d("useKadabraAppExperienceUpsellDialog",["KDSDialogLoadingState.react","KadabraAppExperienceDialog.entrypoint","KadabraLoginQPL","react","react-compiler-runtime","useBaseEntryPointDialog","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u={normalBackdrop:{backdropFilter:"xpivpjv",backgroundColor:"x1pi3zu",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(16),n=e.entrypoint,a=e.isDismissable,i=e.linkProps,l=e.onDismiss,s=e.onPress,c=e.onPressBeforeDialog,m=a===void 0?!0:a,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p={},t[0]=p):p=t[0];var _;t[1]===Symbol.for("react.memo_cache_sentinel")?(_={baseModalProps:{backdropXStyle:u.normalBackdrop}},t[1]=_):_=t[1];var f=r("useBaseEntryPointDialog")(r("KadabraAppExperienceDialog.entrypoint"),p,"button",d,_),g=f[0],h=f[1],y=f[2],C=f[3],b=e.utmCampaign,v;t[2]!==n||t[3]!==m||t[4]!==(i==null?void 0:i.url)||t[5]!==l||t[6]!==s||t[7]!==c||t[8]!==g||t[9]!==b?(v=function(t){var e=r("uuidv4")();r("KadabraLoginQPL").start({annotations:{string:{entrypoint:n,waterfall_id:e}}}),c==null||c(),g({entrypoint:n,isDismissable:m,nextUrl:i==null?void 0:i.url,onDismiss:l,onUserAction:m?void 0:function(){return s==null?void 0:s(t)},utmCampaign:b,waterfallID:e})},t[2]=n,t[3]=m,t[4]=i==null?void 0:i.url,t[5]=l,t[6]=s,t[7]=c,t[8]=g,t[9]=b,t[10]=v):v=t[10];var S=v,R;return t[11]!==S||t[12]!==h||t[13]!==y||t[14]!==C?(R={linkProps:void 0,onHoverIn:h,onHoverOut:y,onPress:S,onPressIn:C},t[11]=S,t[12]=h,t[13]=y,t[14]=C,t[15]=R):R=t[15],R}function d(e){return s.jsx(r("KDSDialogLoadingState.react"),{onClose:e,variant:"logo"})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("useOnRoutableDialogClose",["CometRouteRenderType","react","react-compiler-runtime","useCometRouterDispatcher"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(8),a=e===void 0?"/":e,i;n[0]!==t?(i=t===void 0?{}:t,n[0]=t,n[1]=i):i=n[1];var l=i,s=o("CometRouteRenderType").useIsPushView(),u=r("useCometRouterDispatcher")(),c=o("CometRouteRenderType").useIsHosted(),d;return n[2]!==l||n[3]!==a||n[4]!==u||n[5]!==c||n[6]!==s?(d=function(){if(u)return s?u.popPushView():c?u.goBack():u.go(a,babelHelpers.extends({},l,{target:"self"}))},n[2]=l,n[3]=a,n[4]=u,n[5]=c,n[6]=s,n[7]=d):d=n[7],d}l.default=u}),98);
__d("useThumbnailState",["FBLogger","KadabraImagineVideoUtils","Promise","fb-error","react","react-compiler-runtime","useAbraWebEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef,m=u.useState;function p(t){var a=o("react-compiler-runtime").c(7),i=r("useAbraWebEventLogger")(),l=d(i),s,u;a[0]!==i?(s=function(){l.current=i},u=[i],a[0]=i,a[1]=s,a[2]=u):(s=a[1],u=a[2]),c(s,u);var p;a[3]===Symbol.for("react.memo_cache_sentinel")?(p={propsVersion:0,state:"initial"},a[3]=p):p=a[3];var _=m(p),f=_[0],g=_[1],h=d(f);if(f.state==="initial"||t.videoId!==f.props.videoId||t.fallbackVideoURI!==f.props.fallbackVideoURI||t.thumbnailURI!==f.props.thumbnailURI)if(t.thumbnailURI!=null)g({props:t,propsVersion:f.propsVersion+1,state:"ready",thumbnailURLCached:t.thumbnailURI});else{var y=f.state==="initial"||t.videoId!==f.props.videoId?null:f.thumbnailURLCached;t.fallbackVideoURI!=null?g({props:t,propsVersion:f.propsVersion+1,state:"need_from_video",thumbnailURLCached:y,videoURL:t.fallbackVideoURI}):g({props:t,propsVersion:f.propsVersion+1,state:"missing",thumbnailURLCached:y})}var C,b;return a[4]!==f?(C=function(){if(f!==h.current&&h.current.state==="generating_from_video"&&f.propsVersion!==h.current.propsVersion&&h.current.abortController.abort(),h.current=f,f.state==="need_from_video"){var t=new AbortController;(e||(e=n("Promise"))).resolve().then(function(){var e;return l.current.log({event_name:"imagine_video_client_thumbnail_generation_start",imagine_media_info:{media_id:(e=f.props.videoId)!=null?e:""},uri:f.videoURL}),o("KadabraImagineVideoUtils").getFirstFrameThumbnail(f.videoURL,t.signal).then(function(e){g(function(t){return t.propsVersion===f.propsVersion?{props:f.props,propsVersion:f.propsVersion,state:"ready",thumbnailURLCached:e.getURL()}:t})})}).catch(function(e){var t,n,o,a=r("fb-error").getErrorSafe(e);r("FBLogger")("abra_web").mustfix("Failed to generate thumbnail from video: %s",(t=a.messageFormat)!=null?t:a.message),l.current.log({client_error_message:a.name+": "+((n=a.messageFormat)!=null?n:a.message),event_name:"imagine_video_client_thumbnail_generation_error",imagine_media_info:{media_id:(o=f.props.videoId)!=null?o:""},uri:f.videoURL}),g(function(e){return e.propsVersion===f.propsVersion?babelHelpers.extends({},f,{error:a,state:"generating_from_video_failed"}):e})}),g(function(e){return e.propsVersion===f.propsVersion?babelHelpers.extends({},f,{abortController:t,state:"generating_from_video"}):e})}},b=[f],a[4]=f,a[5]=C,a[6]=b):(C=a[5],b=a[6]),c(C,b),f}l.default=p}),98);