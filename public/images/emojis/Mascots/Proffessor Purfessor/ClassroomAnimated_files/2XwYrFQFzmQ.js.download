;/*FB_PKG_DELIM*/

__d("isImaginePromptToAnimateEnabled",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("justknobx")._("2775")}l.isImaginePromptToAnimateEnabled=e}),98);
__d("isImagineVideoScenesEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("1976")}l.isImagineVideoScenesEnabled=e}),98);
__d("isNewImagineVideoIcebreakersEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("4572")}l.isNewImagineVideoIcebreakersEnabled=e}),98);
__d("AbraCardImagineUtils",["fbt","FBLogger","Promise","isImaginePromptToAnimateEnabled","isImagineVideoScenesEnabled","isNewImagineVideoIcebreakersEnabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=s._(/*BTDS*/"Media generated by meta.ai"),c=["imagine a reel","imagine reel"];function d(t){var r=t.media_type,o=t.uri;return new(e||(e=n("Promise")))(function(e,t){if(r==="IMAGE"){var n=new Image;n.onload=function(){return e(!0)},n.onerror=function(){return t(!1)},n.src=o!=null?o:""}else if(r==="VIDEO"){var a=document.createElement("video");a.oncanplaythrough=function(){return e(!0)},a.onerror=function(){return t(!1)},a.src=o!=null?o:"",a.load()}})}function m(t){return(e||(e=n("Promise"))).all((t!=null?t:[]).map(function(e){return d(e)})).then(function(){return!0}).catch(function(){throw r("FBLogger")("abra_imagine").mustfixThrow("Couldn't load all media.")})}function p(e){return e!=null&&e.length>0?e.charAt(0).toLocaleUpperCase()+e.slice(1):""}var _=500,f="xpe8glq-B",g={blur:{animationDuration:"xxkxylk",animationFillMode:"x10e4vud",animationName:"xnjgysd",animationTimingFunction:"xa3vuyk",$$css:!0}};function h(e){if(!o("isNewImagineVideoIcebreakersEnabled").isNewImagineVideoIcebreakersEnabled())return!1;var t=new RegExp("^("+c.join("|")+")");return t.test(e.toLowerCase())}function y(e){if(!o("isImaginePromptToAnimateEnabled").isImaginePromptToAnimateEnabled())return!1;var t=new RegExp("\\b(gif|animation|mp4|film|movie|video)\\b"),n=new RegExp("\b(video game|video games|poster|film style|movie style)\b"),r=t.test(e.toLowerCase()),a=n.test(e.toLowerCase());return r&&!a}function C(e,t){if(!o("isNewImagineVideoIcebreakersEnabled").isNewImagineVideoIcebreakersEnabled()||!o("isImagineVideoScenesEnabled").isImagineVideoScenesEnabled())return!1;if(t==="IMAGINE_VIDEO")return!0;var n=new RegExp("^("+c.join("|")+")");return n.test(e.toLowerCase())}l.DEFAULT_ALT_TEXT=u,l.loadMediaStack=m,l.capitalizePrompt=p,l.SHARED_LOADING_STYLES=g,l.isVideoPrompt=h,l.isPromptToAnimatePrompt=y,l.allowVideoScenesRedirect=C}),226);
__d("KadabraUnifiedCanvasFilmstripItemFavorite.react",["KDSIcon.react","MetaBrandStarFilled24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.isFavorited,a;t[0]!==n?(a={0:{className:"x1mhpo7k x1hc1fzr x47corl x10l6tqk xkplgnz x13dflua x19991ni xz4gly6"},1:{className:"x1mhpo7k x47corl x10l6tqk xkplgnz x13dflua x19991ni xz4gly6 xg01cxk"}}[!n<<0],t[0]=n,t[1]=a):a=t[1];var i,l;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("div",{className:"x10l6tqk xpls79h",children:s.jsx(r("KDSIcon.react"),{color:"black",icon:r("MetaBrandStarFilled24Icon.react")})}),l=s.jsx("div",{className:"x10l6tqk",children:s.jsx(r("KDSIcon.react"),{color:"white",icon:r("MetaBrandStarFilled24Icon.react")})}),t[2]=i,t[3]=l):(i=t[2],l=t[3]);var u;return t[4]!==a?(u=s.jsxs("div",babelHelpers.extends({},a,{children:[i,l]})),t[4]=a,t[5]=u):u=t[5],u}l.default=u}),98);
__d("KadabraUnifiedCanvasFilmstripItemNewDot.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x6s0dn4 xukmnpi x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 x1kpxq89 xhu3bip xl56j7k x10l6tqk x1e0gzzx x13dflua x11xpdln x9lcvmn xsmyaan",children:s.jsx("div",{className:"x75feij x1c9tyrk xeusxvb x1pahc9y x1ertn4p xdk7pt x1xc55vz"})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("AlakazamUnifiedCanvasFilmStripItemWrapper.react",["KDSFlexbox.react","KadabraUnifiedCanvasFilmstripItemFavorite.react","KadabraUnifiedCanvasFilmstripItemNewDot.react","react","react-compiler-runtime","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={tile:{borderStartStartRadius:"x12gd4b6",borderStartEndRadius:"x18jusmx",borderEndEndRadius:"xtiry3x",borderEndStartRadius:"x1p6xzkp",height:"xck5h2i",transform:"x3oybdh",transitionDuration:"x13dflua",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",width:"xs2p1uf",$$css:!0},tileHover:{":hover_transform":"x1lcra6a",$$css:!0},tileSelected:{filter:"xip2rkl",outline:"x1whrabf",outlineOffset:"x1ewu8gn",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(15),n=e.children,a=e.isFavorited,i=e.isNew,l=e.isSelected,c=e.selectedRef,d=e.visibilityRef,m=r("useMergeRefs")(l?c:void 0,d),p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p={className:"xanhq36"},t[0]=p):p=t[0];var _=l&&u.tileSelected,f;t[1]!==_?(f=[u.tile,u.tileHover,_],t[1]=_,t[2]=f):f=t[2];var g;t[3]!==i?(g=i===!0&&s.jsx(r("KadabraUnifiedCanvasFilmstripItemNewDot.react"),{}),t[3]=i,t[4]=g):g=t[4];var h;t[5]!==a?(h=s.jsx(r("KadabraUnifiedCanvasFilmstripItemFavorite.react"),{isFavorited:a}),t[5]=a,t[6]=h):h=t[6];var y;t[7]!==n||t[8]!==f||t[9]!==g||t[10]!==h?(y=s.jsxs(r("KDSFlexbox.react"),{xstyle:f,children:[n,g,h]}),t[7]=n,t[8]=f,t[9]=g,t[10]=h,t[11]=y):y=t[11];var C;return t[12]!==m||t[13]!==y?(C=s.jsx("div",babelHelpers.extends({ref:m},p,{children:y})),t[12]=m,t[13]=y,t[14]=C):C=t[14],C}l.default=c}),98);
__d("KadabraImagineLoadingAnimation.react",["CometHeroHoldTrigger.react","KDSImage.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=250,c="xekv6nw-B",d={grey:{filter:"xmvxrpe",$$css:!0},white:{$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(19),n=e.backgroundMode,a=e.fadeIn,i=e.shouldHold,l=e.size,u=n===void 0?"solid":n,c=a===void 0?!0:a,m=i===void 0?!0:i,_=l===void 0?24:l,f=r("useCurrentDisplayMode")(),g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=["1x","1.5x","2x","3x"],t[0]=g):g=t[0];var h;t[1]!==f?(h=g.map(function(e){return{path:"/images/gen_ai/meta_ai/"+f+"/"+e+"/MetaAI_genai_sparkle_20dp.gif",size:e}}),t[1]=f,t[2]=h):h=t[2];var y=h,C;t[3]!==y?(C=y.map(p),t[3]=y,t[4]=C):C=t[4];var b=C.join(", "),v=f==="dark"||u==="transparent"?d.white:d.grey,S;t[5]!==u||t[6]!==c?(S={0:{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x10l6tqk x13vifvy xh8yej3"},2:{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x10l6tqk x13vifvy xh8yej3 xs4xyr0 x127lhb5 xa3vuyk"},1:{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x10l6tqk x13vifvy xh8yej3 x1d90nhi"},3:{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x10l6tqk x13vifvy xh8yej3 xs4xyr0 x127lhb5 xa3vuyk x1d90nhi"}}[!!c<<1|(u==="solid")<<0],t[5]=u,t[6]=c,t[7]=S):S=t[7];var R;t[8]!==m?(R=m&&s.jsx(r("CometHeroHoldTrigger.react"),{description:"Hold for agent to finish imagining",hold:!0}),t[8]=m,t[9]=R):R=t[9];var L;t[10]!==v||t[11]!==y[0].path||t[12]!==_||t[13]!==b?(L=s.jsx(r("KDSImage.react"),{height:_,src:y[0].path,srcSet:b,testid:void 0,width:_,xstyle:v}),t[10]=v,t[11]=y[0].path,t[12]=_,t[13]=b,t[14]=L):L=t[14];var E;return t[15]!==L||t[16]!==S||t[17]!==R?(E=s.jsxs("div",babelHelpers.extends({},S,{children:[R,L]})),t[15]=L,t[16]=S,t[17]=R,t[18]=E):E=t[18],E}function p(e){var t=e.path,n=e.size;return t+" "+n}l.default=m}),98);
__d("KadabraImagineVideo.react",["AbraCardImagineUtils","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState,d={contain:{objectFit:"x19kjcj4",$$css:!0},cover:{objectFit:"xl1xv1r",$$css:!0},fill:{objectFit:"xz74otr",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(25),a=t.altText,i=t.autoplay,l=t.controls,s=t.controlsList,m=t.height,p=t.isLoading,_=t.muted,f=t.objectFit,g=t.onError,h=t.onLoad,y=t.ref,C=t.uri,b=t.width,v=t.xstyle,S=l===void 0?!1:l,R=s===void 0?"":s,L=m===void 0?"100%":m,E=p===void 0?!1:p,k=_===void 0?!0:_,I=f===void 0?"cover":f,T=b===void 0?"100%":b,D=c(!1),x=D[0],$=D[1],P=i!=null?i:!E,N=x?"block":"none",M=!E,w;n[0]!==h?(w=function(){$(!0),h==null||h()},n[0]=h,n[1]=w):w=n[1];var A;n[2]!==E||n[3]!==I||n[4]!==v?(A=(e||(e=r("stylex"))).props([I&&d[I],v,E===!0&&o("AbraCardImagineUtils").SHARED_LOADING_STYLES.blur]),n[2]=E,n[3]=I,n[4]=v,n[5]=A):A=n[5];var F;n[6]!==C?(F=u.jsx("source",{src:C,type:"video/mp4"}),n[6]=C,n[7]=F):F=n[7];var O;n[8]===Symbol.for("react.memo_cache_sentinel")?(O=u.jsx("track",{kind:"captions"}),n[8]=O):O=n[8];var B;return n[9]!==a||n[10]!==S||n[11]!==R||n[12]!==L||n[13]!==k||n[14]!==g||n[15]!==y||n[16]!==M||n[17]!==w||n[18]!==A||n[19]!==F||n[20]!==P||n[21]!==N||n[22]!==C||n[23]!==T?(B=u.jsxs("video",babelHelpers.extends({"aria-label":a,autoPlay:P,controls:S,controlsList:R,"data-testid":void 0,display:N,height:L,loop:M,muted:k,onError:g,onLoadedData:w,playsInline:!0,ref:y,width:T},A,{children:[F,O]}),C),n[9]=a,n[10]=S,n[11]=R,n[12]=L,n[13]=k,n[14]=g,n[15]=y,n[16]=M,n[17]=w,n[18]=A,n[19]=F,n[20]=P,n[21]=N,n[22]=C,n[23]=T,n[24]=B):B=n[24],B}l.default=m}),98);
__d("KadabraImagineMedia.react",["AbraCardImagineUtils","AbraImagineMediaTypeUtils","FBLogger","KDSImage.react","KadabraImagineLoadingAnimation.react","KadabraImagineVideo.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(19),n=e.altText,a=e.controlsList,i=e.height,l=e.isLoading,u=e.mediaType,c=e.muted,d=e.objectFit,m=e.onError,p=e.onLoad,_=e.ref,f=e.uri,g=e.videoOptions,h=e.width,y=e.xstyle,C=n===void 0?null:n,b=a===void 0?"":a,v=l===void 0?!1:l,S=c===void 0?!0:c,R;t[0]!==v?(R=v?s.jsx(r("KadabraImagineLoadingAnimation.react"),{size:24}):null,t[0]=v,t[1]=R):R=t[1];var L=R,E=C!=null?C:o("AbraCardImagineUtils").DEFAULT_ALT_TEXT,k;if(t[2]!==E||t[3]!==b||t[4]!==i||t[5]!==v||t[6]!==L||t[7]!==u||t[8]!==S||t[9]!==d||t[10]!==m||t[11]!==p||t[12]!==_||t[13]!==f||t[14]!==(g==null?void 0:g.autoplay)||t[15]!==(g==null?void 0:g.controls)||t[16]!==h||t[17]!==y){var I;k=s.jsx(s.Fragment,{children:o("AbraImagineMediaTypeUtils").isVideo(u)||o("AbraImagineMediaTypeUtils").isReel(u)?s.jsxs(s.Fragment,{children:[s.jsx(r("KadabraImagineVideo.react"),{altText:E,autoplay:g==null?void 0:g.autoplay,controls:(I=g==null?void 0:g.controls)!=null?I:u==="REEL",controlsList:b,height:i,isLoading:v,muted:S,objectFit:d,onError:function(){r("FBLogger")("kadabra_core").mustfix("Error loading Imagine video [KadabraImagineMedia]: %s",f),m==null||m()},onLoad:p,ref:_,uri:f,width:h,xstyle:y}),L]}):s.jsxs(s.Fragment,{children:[s.jsx(r("KDSImage.react"),{alt:E,draggable:!1,height:i,objectFit:d,onError:function(){r("FBLogger")("kadabra_core").mustfix("Error loading Imagine image [KadabraImagineMedia]: %s",f),m==null||m()},onLoad:p,ref:_,src:f,testid:void 0,width:h,xstyle:[y,v&&o("AbraCardImagineUtils").SHARED_LOADING_STYLES.blur]}),L]})}),t[2]=E,t[3]=b,t[4]=i,t[5]=v,t[6]=L,t[7]=u,t[8]=S,t[9]=d,t[10]=m,t[11]=p,t[12]=_,t[13]=f,t[14]=g==null?void 0:g.autoplay,t[15]=g==null?void 0:g.controls,t[16]=h,t[17]=y,t[18]=k}else k=t[18];return k}l.default=u}),98);
__d("KadabraUnifiedCanvasFilmStripUtils",[],(function(t,n,r,o,a,i){"use strict";var e=60,l=60;i.TILE_WIDTH=e,i.TILE_HEIGHT=l}),66);
__d("KadabraUnifiedCanvasFilmStripItemOptimistic.react",["KDSFlexbox.react","KDSGlimmer.react","KDSSpinner.react","KDSText.react","KadabraImagineMedia.react","KadabraUnifiedCanvasFilmStripUtils","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="x12zu2tw-B",d={backgroundColor:"x1d90nhi",borderStartStartRadius:"x12gd4b6",borderStartEndRadius:"x18jusmx",borderEndEndRadius:"xtiry3x",borderEndStartRadius:"x1p6xzkp",opacity:"x1hc1fzr",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},m={backgroundImage:{filter:"x1sbjjv6",height:"x5yr21d",opacity:"xbyyjgo",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},fadeInAnimation:{animationDuration:"x1gm38ng",animationFillMode:"x10e4vud",animationName:"x1vtisa",animationTimingFunction:"x4hg4is",$$css:!0},fullWidthAndHeight:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},glimmerTile:function(t,n){return[d,{height:n!=null?"x16ye13r":n,minHeight:n!=null?"x82snj4":n,minWidth:t!=null?"xkj4a21":t,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-minHeight":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-minWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},spinnerContainer:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(20),a=t.disableLoadingStateTracker,i=t.index,l=t.isGenerating,s=t.numGenerated,c=t.numTotal,d=t.previousImageUri,p=t.previousMediaType,_=t.spinnerVisible,f=a===void 0?!1:a,g=l===void 0?!1:l,h=s===void 0?0:s,y=_===void 0?!0:_,C=c!=null&&c>0,b;n[0]===Symbol.for("react.memo_cache_sentinel")?(b=(e||(e=r("stylex"))).props(m.fadeInAnimation,m.glimmerTile(o("KadabraUnifiedCanvasFilmStripUtils").TILE_WIDTH,o("KadabraUnifiedCanvasFilmStripUtils").TILE_HEIGHT)),n[0]=b):b=n[0];var v;n[1]!==d||n[2]!==p?(v=d!=null&&u.jsx(r("KadabraImagineMedia.react"),{mediaType:p,objectFit:"cover",uri:d,xstyle:m.backgroundImage}),n[1]=d,n[2]=p,n[3]=v):v=n[3];var S;n[4]!==h||n[5]!==c||n[6]!==C?(S=C&&u.jsx(r("KDSFlexbox.react"),{alignItems:"center",justifyContent:"center",xstyle:m.spinnerContainer,children:u.jsxs(r("KDSText.react"),{textStyle:"subtitle",children:[h," / ",c]})}),n[4]=h,n[5]=c,n[6]=C,n[7]=S):S=n[7];var R;n[8]!==f||n[9]!==i||n[10]!==v||n[11]!==S?(R=u.jsxs(r("KDSGlimmer.react"),{disableLoadingStateTracker:f,index:i,xstyle:m.fullWidthAndHeight,children:[v,S]}),n[8]=f,n[9]=i,n[10]=v,n[11]=S,n[12]=R):R=n[12];var L;n[13]!==g||n[14]!==C||n[15]!==y?(L=g&&y&&u.jsx(r("KDSFlexbox.react"),{alignItems:"center",justifyContent:"center",xstyle:m.spinnerContainer,children:u.jsx(r("KDSSpinner.react"),{color:"newSecondary",size:C?48:20,strokeWidth:C?4:2})}),n[13]=g,n[14]=C,n[15]=y,n[16]=L):L=n[16];var E;return n[17]!==R||n[18]!==L?(E=u.jsxs("div",babelHelpers.extends({},b,{children:[R,L]})),n[17]=R,n[18]=L,n[19]=E):E=n[19],E}l.default=p}),98);
__d("useKadabraUnifiedCanvasHandleNewMediaPress_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_new_media",storageKey:null}]}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useKadabraUnifiedCanvasHandleNewMediaPress_media",selections:[{kind:"InlineFragment",selections:e,type:"XFBGENAIImagineImage",abstractKey:null},{kind:"InlineFragment",selections:e,type:"XFBGENAIVideoGen",abstractKey:null}],type:"Node",abstractKey:"__isNode"}})();a.exports=e}),null);
__d("useKadabraUnifiedCanvasHandleNewMediaPress",["CometRelay","react","react-compiler-runtime","useKadabraUnifiedCanvasHandleNewMediaPress_media.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t,r){var a=o("react-compiler-runtime").c(5),i=o("CometRelay").useRelayEnvironment(),l=o("CometRelay").useFragment(e!==void 0?e:e=n("useKadabraUnifiedCanvasHandleNewMediaPress_media.graphql"),t),s;a[0]!==(l==null?void 0:l.id)||a[1]!==(l==null?void 0:l.is_new_media)||a[2]!==i||a[3]!==r?(s=function(){if((l==null?void 0:l.is_new_media)===!0){var e=l==null?void 0:l.id;e!=null&&o("CometRelay").commitLocalUpdate(i,function(t){var n=t.get(e);n!=null&&n.setValue(!1,"is_new_media")})}r==null||r()},a[0]=l==null?void 0:l.id,a[1]=l==null?void 0:l.is_new_media,a[2]=i,a[3]=r,a[4]=s):s=a[4],l==null||l.id,l==null||l.is_new_media;var u=s;return u}l.default=c}),98);