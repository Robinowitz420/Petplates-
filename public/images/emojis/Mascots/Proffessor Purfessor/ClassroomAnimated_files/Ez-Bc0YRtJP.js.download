;/*FB_PKG_DELIM*/

__d("CometAIStreamingState",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["STREAMING","LLM_DONE","OVERALL_DONE"]);i.StreamingState=e}),66);
__d("KadabraLoadingMedia_partial_result.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__enable_kadabra_partial_resultsrelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraLoadingMedia_partial_result",selections:[{condition:"__relay_internal__pv__enable_kadabra_partial_resultsrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraImaginePartialResultsLoader_partial_result"}],type:"XFBGENAIEntProgressiveImagineEventStreamResponse",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"KadabraImaginePartialResultsLoader_partial_result"}]}],type:"XFBGENAIEntProgressiveImagineEventStreamResponse",abstractKey:null};a.exports=e}),null);
__d("KadabraLoadingMedia.react",["fbt","CometRelay","KDSFlexbox.react","KDSGlimmer.react","KDSIcon.react","KDSImageGridItem.react","KadabraImagineCreateSandLoader.react","KadabraLoadingMedia_partial_result.graphql","MetaBrandMountainSquareQuestionMarkOutline24Icon.react","cr:582","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useMemo,m={borderRadius:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},content:{backgroundColor:"xukmnpi",height:"x5yr21d",width:"xh8yej3",$$css:!0},glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},gridColumn:function(t){return[{gridColumnStart:t.toString()!=null?"x15kxzb9":t.toString(),$$css:!0},{"--x-gridColumnStart":t.toString()!=null?t.toString():void 0}]}},p=1;function _(t){var a=o("react-compiler-runtime").c(20),i=t.aspectRatio,l=t.gridColumn,u=t.hasError,d=t.index,_=t.isImage,f=t.isSandLoaderEnabled,g=t.isSandLoaderGenerating,h=t.onSandLoaderComplete,y=t.partialResultKey,C=t.sandLoaderAutoTransitionToComplete,b=t.sandLoaderSrc,v=u===void 0?!1:u,S=_===void 0?!1:_,R=f===void 0?!1:f,L=g===void 0?!0:g,E=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraLoadingMedia_partial_result.graphql"),y),k=d,I;a[0]!==l?(I=l!=null&&m.gridColumn(l),a[0]=l,a[1]=I):I=a[1];var T=I,D;a[2]!==k||a[3]!==v||a[4]!==S||a[5]!==R||a[6]!==L||a[7]!==h||a[8]!==C||a[9]!==b?(D=c.jsx(c.Fragment,{children:v?c.jsx(r("KDSIcon.react"),{icon:r("MetaBrandMountainSquareQuestionMarkOutline24Icon.react"),size:24}):R?c.jsx(r("KadabraImagineCreateSandLoader.react"),{autoTransitionToComplete:C!=null?C:S,isGenerating:L,onComplete:h,src:b}):c.jsx(r("KDSGlimmer.react"),{index:k,xstyle:m.glimmer})}),a[2]=k,a[3]=v,a[4]=S,a[5]=R,a[6]=L,a[7]=h,a[8]=C,a[9]=b,a[10]=D):D=a[10];var x=D,$;a[11]===Symbol.for("react.memo_cache_sentinel")?($={"aria-label":s._(/*BTDS*/"Media loading"),role:"listitem"},a[11]=$):$=a[11];var P=i!=null?i:p,N;a[12]!==x||a[13]!==(E==null?void 0:E.KadabraImaginePartialResultsLoader_partial_result)||a[14]!==v?(N=c.jsx(r("KDSFlexbox.react"),{alignItems:"center",justifyContent:"center",xstyle:m.content,children:n("cr:582")!=null?c.jsx(n("cr:582"),{disablePartialResults:v,mode:"image",partialResultKey:E==null?void 0:E.KadabraImaginePartialResultsLoader_partial_result,children:x}):x}),a[12]=x,a[13]=E==null?void 0:E.KadabraImaginePartialResultsLoader_partial_result,a[14]=v,a[15]=N):N=a[15];var M;return a[16]!==T||a[17]!==P||a[18]!==N?(M=c.jsx(r("KDSImageGridItem.react"),{accessibilityProps:$,aspectRatio:P,pressedXStyle:m.borderRadius,xstyle:m.borderRadius,xstyleContainer:T,children:N}),a[16]=T,a[17]=P,a[18]=N,a[19]=M):M=a[19],M}l.default=_}),226);
__d("KadabraPrivateCommentTrackPerf_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t=[e];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__AbraArtifactsEnabledrelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraPrivateCommentTrackPerf_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"bot_response_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"role",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"streaming_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_tokens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"conversation",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null}],type:"XFBAbraGenAIStoredConversation",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBGenAIProductModelInfo",kind:"LinkedField",name:"product_model_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"model_used",storageKey:null}],storageKey:null},{alias:"has_reels",args:null,concreteType:"XFBAbraReels",kind:"LinkedField",name:"reels",plural:!1,selections:t,storageKey:null},{alias:"has_imagine",args:null,concreteType:"XFBGenAIImagineCard",kind:"LinkedField",name:"imagine_card",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"tool_names",storageKey:null}],type:"XFBAbraMessageMultiStepResponseContent",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:"XFBGenAIReasoningThinkingData",kind:"LinkedField",name:"thinking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thinking_time_sec",storageKey:null}],storageKey:null}],type:"XFBAbraMessageReasoningContent",abstractKey:null}],storageKey:null},{condition:"__relay_internal__pv__AbraArtifactsEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"artifact_versions",plural:!0,selections:t,storageKey:null}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"AbraMessage",abstractKey:null}})();a.exports=e}),null);
__d("useCometAiTTITTracker",["$InternalEnum","CometAIStreamingState","percentile","performanceNow","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef,m=[50,75,90,95,99],p=n("$InternalEnum").Mirrored(["REASONING","EXCL_REASONING"]);function _(t,n,a,i,l,s){var u=o("react-compiler-runtime").c(10),m=s===void 0?!1:s,_=d(a),b=d(null),v;u[0]===Symbol.for("react.memo_cache_sentinel")?(v=[],u[0]=v):v=u[0];var S=d(v),R;u[1]===Symbol.for("react.memo_cache_sentinel")?(R=new Map,u[1]=R):R=u[1];var L=d(R),E,k;u[2]!==t||u[3]!==l||u[4]!==i||u[5]!==a||u[6]!==n||u[7]!==m?(E=function(){if(n===o("CometAIStreamingState").StreamingState.STREAMING&&a!==_.current){var s=b.current;_.current=a;var u=(e||(e=r("performanceNow")))(),c=s==null?0:u-s;b.current=e(),S.current.push(c),i===!0&&(l===!0?y(L,p.REASONING,c):y(L,p.EXCL_REASONING,c))}if(n===o("CometAIStreamingState").StreamingState.LLM_DONE&&S.current.length>0){var d=S.current.filter(g),v=d.reduce(f,0)/d.length,R=Math.min.apply(Math,d),E=Math.max.apply(Math,d),k=t();k!=null&&(h(k,d),C(k,L),k.addAnnotationDoubleArray("ttit_values",d),k.addAnnotationDouble("client_only_avgTTIT",v),k.addAnnotationDouble("client_only_minTTIT",R),k.addAnnotationDouble("client_only_maxTTIT",E),a!=null&&k.addAnnotationInt("numTokens",a),_.current!=null&&m&&k.addAnnotationInt("numTokens",_.current))}},k=[n,t,a,l,i,m],u[2]=t,u[3]=l,u[4]=i,u[5]=a,u[6]=n,u[7]=m,u[8]=E,u[9]=k):(E=u[8],k=u[9]),c(E,k)}function f(e,t){return e+t}function g(e){return e>0}function h(e,t){for(var n of m)e.addAnnotationDouble("p"+n+"TTIT",r("percentile")(t,n/100))}function y(e,t,n){var r,o;e.current.set(t,(r=e.current.get(t))!=null?r:[]),(o=e.current.get(t))==null||o.push(n)}function C(e,t){for(var n of t.current.entries()){var r=n[0],o=n[1];if(o.length>0){var a=o.filter(function(e){return e>0}),i=a.reduce(function(e,t){return e+t},0)/a.length,l=Math.min.apply(Math,a),s=Math.max.apply(Math,a);e.addAnnotationDouble("client_only_"+r+"_avgTTIT",i),e.addAnnotationDouble("client_only_"+r+"_minTTIT",l),e.addAnnotationDouble("client_only_"+r+"_maxTTIT",s)}}}l.useCometAiTTITTracker=_}),98);
__d("useKadabraTTITTracker",["CometAIStreamingState","KadabraAppRootInteractionContext.react","react-compiler-runtime","useCometAiTTITTracker"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a=o("react-compiler-runtime").c(2),i=o("KadabraAppRootInteractionContext.react").useKadabraAppRootInteractionContext(),l=i.getActiveTrace,u;a[0]!==e?(u=s(e),a[0]=e,a[1]=u):u=a[1],o("useCometAiTTITTracker").useCometAiTTITTracker(l,u,t,n,r)}function s(e){if(e!=null)switch(e){case"STREAMING":return o("CometAIStreamingState").StreamingState.STREAMING;case"LLM_DONE":return o("CometAIStreamingState").StreamingState.LLM_DONE;default:return null}}l.default=e}),98);
__d("KadabraPrivateCommentTrackPerf.react",["CometRelay","KadabraAppRootInteractionContext.react","KadabraPrivateCommentTrackPerf_data.graphql","react","react-compiler-runtime","useKadabraTTITTracker"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef;function m(t){var a,i,l=o("react-compiler-runtime").c(13),s=t.dataKey,u=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraPrivateCommentTrackPerf_data.graphql"),s);r("useKadabraTTITTracker")(u==null?void 0:u.streaming_state,u==null?void 0:u.num_tokens,(u==null||(a=u.content)==null?void 0:a.__typename)==="XFBAbraMessageReasoningContent",(u==null||(i=u.content)==null||(i=i.thinking_data)==null?void 0:i.thinking_time_sec)==null);var m=d(null),p=o("CometRelay").useRelayEnvironment(),_;l[0]!==(u==null?void 0:u.__id)||l[1]!==(u==null?void 0:u.streaming_state)||l[2]!==p?(_=function(){(u==null?void 0:u.streaming_state)==="STREAMING"&&m.current===null&&(m.current=Date.now(),p.commitUpdate(function(e){var t,n=u==null?void 0:u.__id;n!=null&&((t=e.get(n))==null||t.setValue(m.current,"client_upl_time_ms"))}))},l[0]=u==null?void 0:u.__id,l[1]=u==null?void 0:u.streaming_state,l[2]=p,l[3]=_):_=l[3];var f=u==null?void 0:u.__id,g=u==null?void 0:u.streaming_state,h;l[4]!==p||l[5]!==f||l[6]!==g?(h=[f,g,p],l[4]=p,l[5]=f,l[6]=g,l[7]=h):h=l[7],c(_,h);var y=o("KadabraAppRootInteractionContext.react").useKadabraAppRootInteractionContext(),C=y.getActiveTrace,b;l[8]===Symbol.for("react.memo_cache_sentinel")?(b=new Set,l[8]=b):b=l[8];var v=d(b),S,R;return l[9]!==u||l[10]!==C?(S=function(){var e=u!=null?u:{},t=e.artifact_versions,n=e.bot_response_id,r=e.content,o=e.has_imagine,a=e.has_reels,i=e.role,l=e.snippet,s=e.streaming_state,c=C();if(i==="ASSISTANT"&&s!=="OVERALL_DONE"&&(s!=null&&!v.current.has(s)&&(v.current.add(s),c==null||c.addMarkerPoint(String(s),"AppTiming")),c!=null)){var d,m,p,_=(d=u==null||(m=u.product_model_info)==null?void 0:m.model_used)!=null?d:u==null||(p=u.conversation)==null?void 0:p.model;_!=null&&c.addAnnotation("productModel",_);var f=null;s==="SEARCHING"?f="search":o!=null?f="imagine":a!=null&&(f="reels"),f!=null&&c.addAnnotation("pluginType",f);var g=r==null?void 0:r.tool_names;g&&c.addAnnotationStringArray("tool_names",g),n!=null&&c.addAnnotation("bot_response_id",n),c.addAnnotation("messageType",o?"image":"regular"),t!=null&&t.length>0&&c.addAnnotationBoolean("hasArtifacts",!0),l!=null&&l.length>0&&c.addAnnotationInt("responseLength",l.length)}},R=[u,C],l[9]=u,l[10]=C,l[11]=S,l[12]=R):(S=l[11],R=l[12]),c(S,R),null}l.default=m}),98);
__d("MetaBrandTwoSlidersHorizontalOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.145 17H4a1 1 0 1 1 0-2h10.145A3.502 3.502 0 0 1 21 16a3.5 3.5 0 0 1-6.855 1zm3.355-2.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM6.5 4.5A3.5 3.5 0 1 0 9.855 9H20a1 1 0 1 0 0-2H9.855A3.502 3.502 0 0 0 6.5 4.5zm0 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("useAlakazamMessageImaginePlaceholderUploadedFileAspectRatio.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAlakazamMessageImaginePlaceholderUploadedFileAspectRatio",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null}],type:"XFBGenAIImagineUserUploadedImage",abstractKey:null}],storageKey:null}],type:"XFBGENAIUploadedFile",abstractKey:null};a.exports=e}),null);
__d("useAlakazamMessageImaginePlaceholderUploadedFileAspectRatio",["CometRelay","KadabraImagineAspectRatioUtils","react-compiler-runtime","useAlakazamMessageImaginePlaceholderUploadedFileAspectRatio.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r,a,i=o("react-compiler-runtime").c(2),l=o("CometRelay").useFragment(e!==void 0?e:e=n("useAlakazamMessageImaginePlaceholderUploadedFileAspectRatio.graphql"),t),s=(r=l==null||(a=l.imagine_media)==null?void 0:a.aspect_ratio)!=null?r:1,u;return i[0]!==s?(u=o("KadabraImagineAspectRatioUtils").getNormalizedAspectRatio(s),i[0]=s,i[1]=u):u=i[1],u}l.default=s}),98);
__d("useKadabraImagineMarkCompletedGenerationsAsSeenClientQuery.graphql",["XFBGENAIVideoGenStableInputContent-resolver","relay-runtime/experimental","KadabraMediaContent____relay_model_instance.graphql","XFBGENAIVideoGenStableInputContent-resolver","XFBGENAIVideoGenStableInputContent-resolver","relay-runtime/experimental","KadabraMediaContent____relay_model_instance.graphql","XFBGENAIVideoGenStableInputContent-resolver"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[e],r={kind:"InlineFragment",selections:t,type:"XFBGENAIPost",abstractKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"streaming_state",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"seen_by_user",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_pending_generation",storageKey:null}],type:"XFBAbraMessageImagineVideoContent",abstractKey:null},s=[{kind:"Literal",name:"height",value:90},{kind:"Literal",name:"width",value:90}],u={alias:null,args:s,kind:"ScalarField",name:"uri",storageKey:"uri(height:90,width:90)"},c=[u],d={args:null,kind:"FragmentSpread",name:"XFBGENAIVideoGenStableInputContentResolver"},m={kind:"WeakModel",concreteType:"KadabraMediaContent",plural:!1},p={args:null,kind:"FragmentSpread",name:"KadabraMediaContent____relay_model_instance"},_={kind:"InlineFragment",selections:c,type:"XFBGENAIImagineImage",abstractKey:null},f={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AbraMessageImaginePlaceholder",kind:"LinkedField",name:"client_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expected_item_count",storageKey:null}],storageKey:null}],type:"XFBAbraMessageGeneratedMediaPlaceholder",abstractKey:null},g={kind:"InlineFragment",selections:t,type:"Node",abstractKey:"__isNode"},h={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__relay_model_instance",storageKey:null}],type:"KadabraMediaContent",abstractKey:null},y={name:"thumbnail_uri",args:null,fragment:h,kind:"RelayResolver",storageKey:null,isOutputType:!0},C={kind:"InlineFragment",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"stable_input_content",args:null,fragment:{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"input_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_video_uri",storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"source_generated_video",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"stable_output_content",args:null,fragment:{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"generated_video_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"generated_thumbnail_uri",storageKey:null},{alias:null,args:s,kind:"ScalarField",name:"thumbnail_uri",storageKey:"thumbnail_uri(height:90,width:90)"}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},linkedField:{alias:null,args:null,concreteType:"KadabraMediaContent",kind:"LinkedField",name:"stable_output_content",plural:!1,selections:[{name:"uri",args:null,fragment:h,kind:"RelayResolver",storageKey:null,isOutputType:!0},y],storageKey:null}},e],storageKey:null}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},linkedField:{alias:null,args:null,concreteType:"KadabraMediaContent",kind:"LinkedField",name:"stable_input_content",plural:!1,selections:[y],storageKey:null}}],type:"XFBGENAIVideoGen",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"useKadabraImagineMarkCompletedGenerationsAsSeenClientQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"XABUserMediaLibraryEdge",kind:"LinkedField",name:"alakazam_client_only_media_library_messages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:t,type:"AbraMessage",abstractKey:null},r,{fragment:{kind:"InlineFragment",selections:[o,{kind:"InlineFragment",selections:[a,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[o,l],storageKey:null}],type:"AbraMessage",abstractKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"generated_media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!0,selections:[o,{fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:c,storageKey:null}],type:"XFBGENAIImagineImage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"image"},{fragment:{kind:"InlineFragment",selections:[{kind:"ClientEdgeToClientObject",concreteType:"KadabraMediaContent",modelResolvers:null,backingField:{alias:null,args:null,fragment:d,kind:"RelayResolver",name:"stable_input_content",resolverModule:n("XFBGENAIVideoGenStableInputContent-resolver").stable_input_content,path:"alakazam_client_only_media_library_messages.node.message.generated_media.media.video.stable_input_content",normalizationInfo:m},linkedField:{alias:null,args:null,concreteType:"KadabraMediaContent",kind:"LinkedField",name:"stable_input_content",plural:!1,selections:[{alias:null,args:null,fragment:p,kind:"RelayResolver",name:"thumbnail_uri",resolverModule:n("relay-runtime/experimental").resolverDataInjector(n("KadabraMediaContent____relay_model_instance.graphql"),n("XFBGENAIVideoGenStableInputContent-resolver").thumbnail_uri,"__relay_model_instance",!0),path:"alakazam_client_only_media_library_messages.node.message.generated_media.media.video.stable_input_content.thumbnail_uri"}],storageKey:null}}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"video"},{fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:[{fragment:_,kind:"AliasedInlineFragmentSpread",name:"image"},{fragment:{kind:"InlineFragment",selections:[{kind:"ClientEdgeToClientObject",concreteType:"KadabraMediaContent",modelResolvers:null,backingField:{alias:null,args:null,fragment:d,kind:"RelayResolver",name:"stable_input_content",resolverModule:n("XFBGENAIVideoGenStableInputContent-resolver").stable_input_content,path:"alakazam_client_only_media_library_messages.node.message.generated_media.media.composed.source_media.video.stable_input_content",normalizationInfo:m},linkedField:{alias:null,args:null,concreteType:"KadabraMediaContent",kind:"LinkedField",name:"stable_input_content",plural:!1,selections:[{alias:null,args:null,fragment:p,kind:"RelayResolver",name:"thumbnail_uri",resolverModule:n("relay-runtime/experimental").resolverDataInjector(n("KadabraMediaContent____relay_model_instance.graphql"),n("XFBGENAIVideoGenStableInputContent-resolver").thumbnail_uri,"__relay_model_instance",!0),path:"alakazam_client_only_media_library_messages.node.message.generated_media.media.composed.source_media.video.stable_input_content.thumbnail_uri"}],storageKey:null}}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"video"}],storageKey:null}],type:"XFBGENAIImagineComposedMedia",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"composed"}],storageKey:null}],type:"XFBAbraMessageGeneratedMedia",abstractKey:null},f],storageKey:null}],type:"XABIAbraWithGeneratedMedia",abstractKey:"__isXABIAbraWithGeneratedMedia"},kind:"AliasedInlineFragmentSpread",name:"message"}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useKadabraImagineMarkCompletedGenerationsAsSeenClientQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"XABUserMediaLibraryEdge",kind:"LinkedField",name:"alakazam_client_only_media_library_messages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o,{kind:"InlineFragment",selections:[e,a,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[o,l,g,{kind:"InlineFragment",selections:t,type:"XFBAbraRemixVersion",abstractKey:null}],storageKey:null}],type:"AbraMessage",abstractKey:null},r,{kind:"TypeDiscriminator",abstractKey:"__isXABIAbraWithGeneratedMedia"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"generated_media",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!0,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:[o,u,e],storageKey:null}],type:"XFBGENAIImagineImage",abstractKey:null},C,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:[o,_,C,e],storageKey:null}],type:"XFBGENAIImagineComposedMedia",abstractKey:null},e],storageKey:null}],type:"XFBAbraMessageGeneratedMedia",abstractKey:null},f],storageKey:null},g],storageKey:null}],storageKey:null}]}]},params:{cacheID:"ce2c60386d6fb7f9cdb47b53f2c868a6",id:null,metadata:{},name:"useKadabraImagineMarkCompletedGenerationsAsSeenClientQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useKadabraImagineMarkCompletedGenerationsAsSeen",["CometRelay","react","react-compiler-runtime","useKadabraImagineMarkCompletedGenerationsAsSeenClientQuery.graphql","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useMemo;function m(e){var t=o("react-compiler-runtime").c(3),n=p(),a;return t[0]!==e||t[1]!==n?(a={onVisible:function(){e!=null&&n(e)}},t[0]=e,t[1]=n,t[2]=a):a=t[2],r("useVisibilityObserver")(a)}function p(){var t=o("react-compiler-runtime").c(9),r,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=e!==void 0?e:e=n("useKadabraImagineMarkCompletedGenerationsAsSeenClientQuery.graphql"),a={},t[0]=r,t[1]=a):(r=t[0],a=t[1]);var i=o("CometRelay").useClientQuery(r,a),l=i.alakazam_client_only_media_library_messages,s;t[2]!==l?(s=l||[],t[2]=l,t[3]=s):s=t[3];var u;t[4]!==s?(u=new Set(s.map(_).filter(Boolean)),t[4]=s,t[5]=u):u=t[5];var c=u,d=o("CometRelay").useRelayEnvironment(),m;return t[6]!==c||t[7]!==d?(m=function(t){d.commitUpdate(function(e){var n,r=(n=e.getRoot().getLinkedRecords("alakazam_client_only_media_library_messages"))!=null?n:[];r.forEach(function(e){var n=e==null?void 0:e.getLinkedRecord("node"),r=n==null?void 0:n.getDataID();r===t&&c.has(t)&&(n==null||n.setValue(!0,"seen_by_user"))})})},t[6]=c,t[7]=d,t[8]=m):m=t[8],m}function _(e){var t,n,r,o=e==null?void 0:e.node,a=o==null||(t=o.message)==null?void 0:t.streaming_state,i=o==null||(n=o.message)==null?void 0:n.seen_by_user,l=o==null||(r=o.message)==null||(r=r.content)==null?void 0:r.has_pending_generation;if(i!==!0&&a==="OVERALL_DONE"&&l!==!0)return o==null?void 0:o.id}l.useKadabraImagineObserveVisibleCompletedGenerationsAsSeen=m,l.useKadabraImagineMarkCompletedGenerationsAsSeen=p}),98);