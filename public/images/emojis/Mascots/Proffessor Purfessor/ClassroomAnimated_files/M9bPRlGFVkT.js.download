;/*FB_PKG_DELIM*/

__d("KadabraConcordImagineVideoGridItem_video.graphql",["XFBAbraMediaLibraryCombinedAspectRatio-resolver"],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__kadabra_media_item_renderer_heightrelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__kadabra_media_item_renderer_widthrelayprovider"}],kind:"Fragment",metadata:null,name:"KadabraConcordImagineVideoGridItem_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"XFBAbraMediaLibraryCombinedAspectRatioResolver"},kind:"RelayResolver",name:"combined_aspect_ratio",resolverModule:n("XFBAbraMediaLibraryCombinedAspectRatio-resolver").combined_aspect_ratio,path:"combined_aspect_ratio"},{fragment:{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"image_height",variableName:"__relay_internal__pv__kadabra_media_item_renderer_heightrelayprovider"},{kind:"Variable",name:"image_width",variableName:"__relay_internal__pv__kadabra_media_item_renderer_widthrelayprovider"}],kind:"FragmentSpread",name:"KadabraImagineCreateFeedItemWrapperV2_data"}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"AliasedInlineFragmentSpread",name:"KadabraImagineCreateFeedItemWrapperV2_data"}],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"};a.exports=e}),null);
__d("KadabraConcordImagineVideoGridItem.react",["CometRelay","KDSFlexbox.react","KadabraConcordImagineVideoGridItem_video.graphql","KadabraImagineAspectRatioUtils","KadabraImagineCreateFeedItem.flow","KadabraImagineCreateFeedItemWrapperV2.react","KadabraPrivateCommentSandLoaderEnabledContextProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={aspectRatio:function(t){return[{aspectRatio:t!=null?"x10y9f9r":t,$$css:!0},{"--x-aspectRatio":t!=null?t:void 0}]},media:{borderStartStartRadius:"x12gd4b6",borderStartEndRadius:"x18jusmx",borderEndEndRadius:"xtiry3x",borderEndStartRadius:"x1p6xzkp",$$css:!0},scene:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1oysuqx",$$css:!0},sceneHorizontal:{width:"xh8yej3",$$css:!0},sceneSquare:{width:"x65xoit x1be37a",$$css:!0},sceneVertical:{width:"x3hqpx7 x1be37a",$$css:!0}};function d(t){var a,i=o("react-compiler-runtime").c(20),l=t.isHoveringRow,s=t.onPress,d=t.position,m=t.video,p=t.xstyleContainer,_=l===void 0?!1:l,f=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraConcordImagineVideoGridItem_video.graphql"),m),g=f.id,h=(a=f==null?void 0:f.combined_aspect_ratio)!=null?a:o("KadabraImagineAspectRatioUtils").DEFAULT_ASPECT_RATIO,y=o("KadabraPrivateCommentSandLoaderEnabledContextProvider.react").useKadabraPrivateCommentSandLoaderEnabledContext(),C=y.isSandLoaderEnabled,b=h<1?c.sceneVertical:h>1?c.sceneHorizontal:c.sceneSquare,v;i[0]!==h?(v=c.aspectRatio(h),i[0]=h,i[1]=v):v=i[1];var S;i[2]!==b||i[3]!==v||i[4]!==p?(S=[c.scene,b,v,c.media,p],i[2]=b,i[3]=v,i[4]=p,i[5]=S):S=i[5];var R;i[6]!==h||i[7]!==s||i[8]!==g?(R=function(){return s==null?void 0:s(g,h)},i[6]=h,i[7]=s,i[8]=g,i[9]=R):R=i[9];var L;i[10]!==h||i[11]!==_||i[12]!==C||i[13]!==d||i[14]!==R||i[15]!==f.KadabraImagineCreateFeedItemWrapperV2_data?(L=u.jsx(r("KadabraImagineCreateFeedItemWrapperV2.react"),{aspectRatio:h,isHoveringRow:_,isSandLoaderEnabled:C,mediaKeyV2:f.KadabraImagineCreateFeedItemWrapperV2_data,onPress:R,playOnHover:!0,position:d,surface:o("KadabraImagineCreateFeedItem.flow").KadabraImagineCreateFeedItemSurface.Conversation}),i[10]=h,i[11]=_,i[12]=C,i[13]=d,i[14]=R,i[15]=f.KadabraImagineCreateFeedItemWrapperV2_data,i[16]=L):L=i[16];var E;return i[17]!==S||i[18]!==L?(E=u.jsx(r("KDSFlexbox.react"),{gap:4,testid:void 0,xstyle:S,children:L}),i[17]=S,i[18]=L,i[19]=E):E=i[19],E}l.default=d}),98);
__d("KadabraConcordImagineVideoGridRateLimitText_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"coalesced_status",storageKey:null}],t=[{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null}],n=[{alias:null,args:null,concreteType:"XFBGENAIImagineComposedMedia",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraConcordImagineVideoGridRateLimitText_data",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_video",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"video",plural:!1,selections:e,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineVideoCardVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"XFBGenAIImagineVideoCardComposedMediasConnection",kind:"LinkedField",name:"composed_medias",plural:!1,selections:n,storageKey:null}],type:"XFBGenAIImagineVideoCard",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIPublicPostImagineVideoContentVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIPublicPostImagineVideoContentComposedMediasConnection",kind:"LinkedField",name:"composed_medias",plural:!1,selections:n,storageKey:null}],type:"XFBGENAIPublicPostImagineVideoContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineComposedMedia",kind:"LinkedField",name:"composed_media",plural:!1,selections:e,storageKey:null}],type:"XFBGenAIImagineComposedMediaAssoc",abstractKey:"__isXFBGenAIImagineComposedMediaAssoc"}],storageKey:null}],type:"XFBAbraMessageImagineVideoContent",abstractKey:null}})();a.exports=e}),null);
__d("KadabraConcordImagineVideoGridRateLimitText.react",["fbt","CometRelay","KDSText.react","KadabraConcordImagineVideoGridRateLimitText_data.graphql","react","react-compiler-runtime","useKadabraCommentTextColor"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var a,i,l,u,d,_,f=o("react-compiler-runtime").c(6),g=t.mediaKey,h=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraConcordImagineVideoGridRateLimitText_data.graphql"),g),y=r("useKadabraCommentTextColor")(),C=((a=(i=h.imagine_video)==null||(i=i.videos)==null?void 0:i.nodes)!=null?a:[(l=h.imagine_video)==null?void 0:l.video]).filter(Boolean),b=((u=(d=h.imagine_video)==null||(d=d.composed_medias)==null?void 0:d.nodes)!=null?u:[(_=h.imagine_video)==null?void 0:_.composed_media]).filter(Boolean),v;f[0]!==b||f[1]!==C?(v=C.some(p)||b.some(m),f[0]=b,f[1]=C,f[2]=v):v=f[2];var S=v,R;return f[3]!==y||f[4]!==S?(R=S&&c.jsx(r("KDSText.react"),{color:y,textStyle:"newBody",children:s._(/*BTDS*/"We\u2019re experiencing high demand. Please try again later.")}),f[3]=y,f[4]=S,f[5]=R):R=f[5],R}function m(e){return(e==null?void 0:e.coalesced_status)==="RATE_LIMIT_FAILED"}function p(e){return(e==null?void 0:e.coalesced_status)==="RATE_LIMIT_FAILED"}l.default=d}),226);
__d("KadabraConcordImagineVideoGrid_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={args:null,kind:"FragmentSpread",name:"KadabraConcordImagineVideoGridItem_video"},t=[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},e],n=[{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"nodes",plural:!0,selections:t,storageKey:null}],r=[{alias:null,args:null,concreteType:"XFBGENAIImagineComposedMedia",kind:"LinkedField",name:"nodes",plural:!0,selections:t,storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraConcordImagineVideoGrid_data",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_video",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"video",plural:!1,selections:[e],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineVideoCardVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"XFBGenAIImagineVideoCardComposedMediasConnection",kind:"LinkedField",name:"composed_medias",plural:!1,selections:r,storageKey:null}],type:"XFBGenAIImagineVideoCard",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIPublicPostImagineVideoContentVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIPublicPostImagineVideoContentComposedMediasConnection",kind:"LinkedField",name:"composed_medias",plural:!1,selections:r,storageKey:null}],type:"XFBGENAIPublicPostImagineVideoContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineComposedMedia",kind:"LinkedField",name:"composed_media",plural:!1,selections:t,storageKey:null}],type:"XFBGenAIImagineComposedMediaAssoc",abstractKey:"__isXFBGenAIImagineComposedMediaAssoc"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"KadabraConcordImagineVideoGridRateLimitText_data"}],type:"XFBAbraMessageImagineVideoContent",abstractKey:null}})();a.exports=e}),null);
__d("KadabraConcordImagineVideoGrid.react",["CometRelay","KDSFlexbox.react","KadabraCommentContext","KadabraConcordImagineVideoGridItem.react","KadabraConcordImagineVideoGridRateLimitText.react","KadabraConcordImagineVideoGrid_data.graphql","KadabraImagineCreateUtils","kdsWidth","react","react-compiler-runtime","useKadabraPageLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.use,d={twoColumnWidth:{maxWidth:"x12rff6n",$$css:!0}};function m(t){var a=o("react-compiler-runtime").c(17),i=t.itemRef,l=t.mediaKey,s=t.onPress,m=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraConcordImagineVideoGrid_data.graphql"),l),g=c(r("KadabraCommentContext")),h=g.isCommentFocused,y=g.isCommentHovered,C=h||y,b=r("useKadabraPageLayout")(),v=b.isMobileLayout,S,R;if(a[0]!==m){var L=_(m),E=f(m);S=[].concat(L,E),R=S.reduce(p,!1),a[0]=m,a[1]=S,a[2]=R}else S=a[1],R=a[2];var k=R,I;a[3]!==S||a[4]!==C||a[5]!==v||a[6]!==s?(I=S.map(function(e,t){return u.jsx(r("KadabraConcordImagineVideoGridItem.react"),{isHoveringRow:S.length>1&&C,onPress:s,position:t,video:e,xstyleContainer:[v&&S.length>1&&d.twoColumnWidth]},t)}),a[3]=S,a[4]=C,a[5]=v,a[6]=s,a[7]=I):I=a[7];var T=I,D=k?void 0:i,x=v?"wrap":"nowrap",$;a[8]!==D||a[9]!==x||a[10]!==T?($=u.jsx(r("KDSFlexbox.react"),{direction:"row",gap:8,ref:D,wrap:x,xstyle:r("kdsWidth").fullWidth,children:T}),a[8]=D,a[9]=x,a[10]=T,a[11]=$):$=a[11];var P;a[12]!==m?(P=u.jsx(r("KadabraConcordImagineVideoGridRateLimitText.react"),{mediaKey:m}),a[12]=m,a[13]=P):P=a[13];var N;return a[14]!==$||a[15]!==P?(N=u.jsxs(r("KDSFlexbox.react"),{direction:"column",gap:12,children:[$,P]}),a[14]=$,a[15]=P,a[16]=N):N=a[16],N}function p(e,t){var n;return e||o("KadabraImagineCreateUtils").isPendingGenerationStatus(t==null||(n=t.generation_status)==null?void 0:n.status)}function _(e){var t,n,r=(t=e.imagine_video)==null||(t=t.videos)==null?void 0:t.nodes,o=(n=e.imagine_video)==null?void 0:n.video;return(r&&r.length>0?r:[o]).filter(Boolean)}function f(e){var t,n,r=(t=e.imagine_video)==null||(t=t.composed_medias)==null?void 0:t.nodes,o=(n=e.imagine_video)==null?void 0:n.composed_media;return(r&&r.length>0?r:[o]).filter(Boolean)}l.default=m}),98);
__d("KadabraMessageImagineVideoContentRenderer_data.graphql",["XFBGENAIVideoGenStableOutputContent-resolver","relay-runtime/experimental","KadabraMediaContent____relay_model_instance.graphql","XFBGENAIVideoGenStableInputContent-resolver","XFBGENAIVideoGenStableOutputContent-resolver","relay-runtime/experimental","KadabraMediaContent____relay_model_instance.graphql","XFBGENAIVideoGenStableInputContent-resolver"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={args:null,kind:"FragmentSpread",name:"XFBGENAIVideoGenStableOutputContentResolver"},r={kind:"WeakModel",concreteType:"KadabraMediaContent",plural:!1},o={args:null,kind:"FragmentSpread",name:"KadabraMediaContent____relay_model_instance"},a=[{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{condition:"__relay_internal__pv__kadabra_story_builder_enabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBGENAIMovieScene",kind:"LinkedField",name:"scene",plural:!1,selections:[e,{alias:null,args:null,concreteType:"XFBGENAIImagineVideoProjectVersion",kind:"LinkedField",name:"project_version",plural:!1,selections:[e],storageKey:null}],storageKey:null}]},{kind:"ClientEdgeToClientObject",concreteType:"KadabraMediaContent",modelResolvers:null,backingField:{alias:null,args:null,fragment:t,kind:"RelayResolver",name:"stable_output_content",resolverModule:n("XFBGENAIVideoGenStableOutputContent-resolver").stable_output_content,path:"imagine_video.videos.nodes.stable_output_content",normalizationInfo:r},linkedField:{alias:null,args:null,concreteType:"KadabraMediaContent",kind:"LinkedField",name:"stable_output_content",plural:!1,selections:[{alias:null,args:null,fragment:o,kind:"RelayResolver",name:"uri",resolverModule:n("relay-runtime/experimental").resolverDataInjector(n("KadabraMediaContent____relay_model_instance.graphql"),n("XFBGENAIVideoGenStableInputContent-resolver").uri,"__relay_model_instance",!0),path:"imagine_video.videos.nodes.stable_output_content.uri"}],storageKey:null}}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__kadabra_story_builder_enabledrelayprovider"}],kind:"Fragment",metadata:{hasClientEdges:!0},name:"KadabraMessageImagineVideoContentRenderer_data",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_video",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIPublicPostImagineVideoContentVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:a,storageKey:null}],type:"XFBGENAIPublicPostImagineVideoContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineVideoCardVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:a,storageKey:null}],type:"XFBGenAIImagineVideoCard",abstractKey:null},{alias:null,args:null,concreteType:"XFBGENAIImagineVideoProjectVersion",kind:"LinkedField",name:"project_version",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineVideoProject",kind:"LinkedField",name:"project",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"video",plural:!1,selections:[e,{kind:"ClientEdgeToClientObject",concreteType:"KadabraMediaContent",modelResolvers:null,backingField:{alias:null,args:null,fragment:t,kind:"RelayResolver",name:"stable_output_content",resolverModule:n("XFBGENAIVideoGenStableOutputContent-resolver").stable_output_content,path:"imagine_video.video.stable_output_content",normalizationInfo:r},linkedField:{alias:null,args:null,concreteType:"KadabraMediaContent",kind:"LinkedField",name:"stable_output_content",plural:!1,selections:[{alias:null,args:null,fragment:o,kind:"RelayResolver",name:"uri",resolverModule:n("relay-runtime/experimental").resolverDataInjector(n("KadabraMediaContent____relay_model_instance.graphql"),n("XFBGENAIVideoGenStableInputContent-resolver").uri,"__relay_model_instance",!0),path:"imagine_video.video.stable_output_content.uri"}],storageKey:null}}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineComposedMedia",kind:"LinkedField",name:"composed_media",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"media_url",storageKey:null}],storageKey:null}],type:"XFBGenAIImagineComposedMediaAssoc",abstractKey:"__isXFBGenAIImagineComposedMediaAssoc"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"KadabraConcordImagineVideoGrid_data"}],type:"XFBAbraMessageImagineVideoContent",abstractKey:null}})();a.exports=e}),null);
__d("useKadabraImagineVideoLightboxDialog",["KadabraLightboxLoadingState.react","react","requireDeferred","useKDSDeferredDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("KadabraImagineVideoFullscreen.react").__setRef("useKadabraImagineVideoLightboxDialog");function c(){var e=r("useKDSDeferredDialog")(u,d);return e}function d(e){return s.jsx(r("KadabraLightboxLoadingState.react"),{onClose:e})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("useKadabraImagineVideoRedirect",["CometRouteParams","CometRouteURL","ConstUriUtils","FBLogger","KadabraPostContext","KadabraRouteUtils","react","react-compiler-runtime","useCometRouterDispatcher","useKadabraGetVanity"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).use;function u(){var e=o("react-compiler-runtime").c(6),t=s(r("KadabraPostContext")),n=t.isPublic,a=t.postID,i=r("useCometRouterDispatcher")(),l=r("useKadabraGetVanity")(),u=o("CometRouteParams").useRouteParams(),c=u.video,d;if(e[0]!==i||e[1]!==n||e[2]!==a||e[3]!==l||e[4]!==c){var m=function(t,s,u,d){var e,m,p=u===void 0?!1:u,_=s!=null?s:String(c);if(_==null){r("FBLogger")("kadabra").mustfix("Video project ID is null when redirecting");return}var f=(e=o("ConstUriUtils").getUri((m=o("CometRouteURL").getWindowURL())!=null?m:""))==null||(e=e.stripTrailingSlash())==null?void 0:e.getPath(),g=f!=null&&f.includes("/share/"),h=g?o("KadabraRouteUtils").kadabraRouteSnapshot({prompt_id:a,video:_,video_variant:t!=null?t:void 0}):o("KadabraRouteUtils").kadabraRoutePrompt({prompt_id:a,vanity:n===!0?l:void 0,video:_,video_variant:t!=null?t:void 0});i==null||i.go(h,{passthroughProps:babelHelpers.extends({},d),replace:p})};d={redirect:m},e[0]=i,e[1]=n,e[2]=a,e[3]=l,e[4]=c,e[5]=d}else d=e[5];return d}l.default=u}),98);
__d("KadabraMessageImagineVideoContentRenderer.react",["CometRelay","KadabraActionTargetAreaContext","KadabraConcordImagineVideoGrid.react","KadabraMessageImagineVideoContentRenderer_data.graphql","KadabraPostContext","KadabraPrivatePromptContext","cr:19720","react","react-compiler-runtime","useKadabraImagineVideoLightboxDialog","useKadabraImagineVideoRedirect","useKadabraOpenUnifiedCanvas","useKadabraPageLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.use,m=c.useMemo;function p(t){var a,i,l,s,c,m,p,_,f,g=o("react-compiler-runtime").c(18),h=t.data,y=t.itemRef,C=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraMessageImagineVideoContentRenderer_data.graphql"),h),b=d(r("KadabraPostContext")),v=b.isPrivateSnapshot,S=b.isPublic,R=b.postID,L=d(r("KadabraPrivatePromptContext")),E=L.isDisplayOnly,k=r("useKadabraOpenUnifiedCanvas")(R),I=k.openUnifiedCanvas,T=(a=n("cr:19720")())!=null?a:{},D=T.openStoryBuilder,x=r("useKadabraPageLayout")(),$=x.isMobileLayout,P=(i=C==null||(l=C.imagine_video)==null||(l=l.project_version)==null||(l=l.project)==null?void 0:l.id)!=null?i:null,N=(s=(c=C==null||(m=C.imagine_video)==null||(m=m.composed_media)==null?void 0:m.media_url)!=null?c:C==null||(p=C.imagine_video)==null||(p=p.video)==null||(p=p.stable_output_content)==null?void 0:p.uri)!=null?s:null;C==null||(_=C.imagine_video)==null||(_=_.videos)==null||_.nodes;var M;if(g[0]!==(C==null||(f=C.imagine_video)==null||(f=f.videos)==null?void 0:f.nodes)){var w,A;M=new Map,C==null||(w=C.imagine_video)==null||(w=w.videos)==null||(w=w.nodes)==null||w.forEach(function(e){var t,n,r;e.id==null||((t=e.stable_output_content)==null?void 0:t.uri)==null||M.set(e.id,{projectVersionId:(n=e.scene)==null||(n=n.project_version)==null?void 0:n.id,sceneId:(r=e.scene)==null?void 0:r.id,uri:e.stable_output_content.uri})}),g[0]=C==null||(A=C.imagine_video)==null||(A=A.videos)==null?void 0:A.nodes,g[1]=M}else M=g[1];var F=M,O=S===!0&&$||v===!0||E===!0,B=r("useKadabraImagineVideoRedirect")(),W=B.redirect,q=r("useKadabraImagineVideoLightboxDialog")(),U;g[2]!==N||g[3]!==E||g[4]!==v||g[5]!==S||g[6]!==F||g[7]!==D||g[8]!==I||g[9]!==P||g[10]!==W||g[11]!==O||g[12]!==q?(U=function(t,n){if(O){var e,r=t!=null?(e=F.get(t))==null?void 0:e.uri:null;q({aspectRatio:n,isDisplayOnly:E===!0||v===!0,videoId:t,videoSrc:r!=null?r:N})}else if(t!=null&&S===!1){var o=F.get(t),a=o==null?void 0:o.projectVersionId,i=o==null?void 0:o.sceneId;a!=null&&D!=null?D({initialSelectedSceneId:i!=null?i:void 0,projectVersionId:a}):I({media_id:t})}else W(t,P,!0)},g[2]=N,g[3]=E,g[4]=v,g[5]=S,g[6]=F,g[7]=D,g[8]=I,g[9]=P,g[10]=W,g[11]=O,g[12]=q,g[13]=U):U=g[13];var V=U;if(C==null)return null;var H;return g[14]!==C||g[15]!==y||g[16]!==V?(H=u.jsx(o("KadabraActionTargetAreaContext").KadabraActionTargetAreaContextProvider,{value:"in_media_thread",children:u.jsx(r("KadabraConcordImagineVideoGrid.react"),{itemRef:y,mediaKey:C,onPress:V})}),g[14]=C,g[15]=y,g[16]=V,g[17]=H):H=g[17],H}l.default=p}),98);
__d("KadabraMessageImagineVideoContentRenderer_data$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[t],r={alias:null,args:null,kind:"ScalarField",name:"coalesced_status",storageKey:null},o={kind:"ClientEdgeToClientObject",backingField:{name:"stable_output_content",args:null,fragment:{kind:"InlineFragment",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"generated_video_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"generated_thumbnail_uri",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:90},{kind:"Literal",name:"width",value:90}],kind:"ScalarField",name:"thumbnail_uri",storageKey:"thumbnail_uri(height:90,width:90)"}],type:"XFBGENAIVideoGen",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},linkedField:{alias:null,args:null,concreteType:"KadabraMediaContent",kind:"LinkedField",name:"stable_output_content",plural:!1,selections:[{name:"uri",args:null,fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__relay_model_instance",storageKey:null}],type:"KadabraMediaContent",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0}],storageKey:null}},a={alias:null,args:null,kind:"ScalarField",name:"orientation",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},l=[i],s={name:"combined_aspect_ratio_internal_do_not_use",args:null,fragment:{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[a,{alias:"imagine_image",args:[{kind:"Literal",name:"width",value:100}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:"image(width:100)"}],type:"XFBGENAIImagineImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_media",plural:!1,selections:[e,{kind:"InlineFragment",selections:[i,a,{alias:null,args:null,kind:"ScalarField",name:"image_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_width",storageKey:null}],type:"XFBGenAIImagineUserUploadedImage",abstractKey:null},t],storageKey:null}],type:"XFBGENAIUploadedFile",abstractKey:null},{kind:"InlineFragment",selections:l,type:"XFBGENAIVideoGen",abstractKey:null},{kind:"InlineFragment",selections:l,type:"XFBGENAIImagineComposedMedia",abstractKey:null}],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"RelayResolver",storageKey:null,isOutputType:!0},u={kind:"InlineFragment",selections:[s],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},c=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[e,u,t],storageKey:null}],d={kind:"InlineFragment",selections:c,type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"},m={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:[e,{kind:"InlineFragment",selections:[s,d],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},t],storageKey:null}],type:"XFBGENAIImagineComposedMedia",abstractKey:null},p={name:"combined_aspect_ratio",args:null,fragment:{kind:"InlineFragment",selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"generated_media_node",plural:!1,selections:[e,u,{kind:"InlineFragment",selections:c,type:"XFBGENAIVideoGen",abstractKey:null},m,t],storageKey:null}],type:"XFBGENAIImagineMediaGenerationStatus",abstractKey:null},d,m],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"},kind:"RelayResolver",storageKey:null,isOutputType:!0},_={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"encoded_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"is_favorited_by_owner",storageKey:null},C=[{kind:"Variable",name:"height",variableName:"__relay_internal__pv__kadabra_media_item_renderer_heightrelayprovider"},{kind:"Variable",name:"width",variableName:"__relay_internal__pv__kadabra_media_item_renderer_widthrelayprovider"}],b={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"public_post_or_conversation",plural:!1,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"external_conversation_id",storageKey:null}],storageKey:null},v={kind:"InlineFragment",selections:[{alias:"image_uri",args:C,kind:"ScalarField",name:"uri",storageKey:null},{alias:"maybe_image_uri",args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIImagineMediaSet",kind:"LinkedField",name:"imagine_media_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineSession",kind:"LinkedField",name:"session",plural:!1,selections:[b,t],storageKey:null},t],storageKey:null},a],type:"XFBImagineMedia",abstractKey:"__isXFBImagineMedia"},S={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null},R={alias:"generationStatus",args:null,kind:"ScalarField",name:"status",storageKey:null},L={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_generation_source",plural:!1,selections:[e,p,t],storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},k={condition:"__relay_internal__pv__enable_kadabra_partial_resultsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_container",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"XFBGENAIEntProgressiveImagineEventStreamResponse",kind:"LinkedField",name:"client_partial_results",plural:!0,selections:[t,{alias:"frames",args:null,kind:"ScalarField",name:"media_data_array",storageKey:null},E,{alias:null,args:null,kind:"ScalarField",name:"fps",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progress",storageKey:null}],storageKey:null}]},t],type:"AbraMessage",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Node",abstractKey:"__isNode"}],storageKey:null}]},I={alias:null,args:null,kind:"ScalarField",name:"preview_media_uri",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"estimated_completion_time",storageKey:null},D={kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[i,L,k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[I,t],storageKey:null}],type:"XFBImagineMediaWithGenerationStatus",abstractKey:"__isXFBImagineMediaWithGenerationStatus"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[T,h,R,t],storageKey:null}],type:"XFBImagineMediaWithGenerationStatus",abstractKey:"__isXFBImagineMediaWithGenerationStatus"}],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"}],type:"XFBGenAIPostVideo",abstractKey:"__isXFBGenAIPostVideo"},x=[R],$={kind:"InlineFragment",selections:x,type:"XFBGENAIImagineMediaGenerationStatus",abstractKey:null},P={alias:null,args:null,kind:"ScalarField",name:"viewer_actions",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},M=[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_new_media",storageKey:null}]}],w={kind:"InlineFragment",selections:[P,N,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:M,type:"XFBGENAIImagineImage",abstractKey:null},{kind:"InlineFragment",selections:M,type:"XFBGENAIVideoGen",abstractKey:null}],type:"Node",abstractKey:"__isNode"}],type:"XFBGENAIImagineImage",abstractKey:null},A={kind:"InlineFragment",selections:[b,P,N,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_generation_source",plural:!1,selections:[e,{alias:"source_prompt",args:null,kind:"ScalarField",name:"prompt",storageKey:null},t],storageKey:null}],type:"XFBGENAIVideoGen",abstractKey:null},F={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source_media",plural:!1,selections:[e,t,{kind:"InlineFragment",selections:[b],type:"XFBGENAIVideoGen",abstractKey:null}],storageKey:null},P,N,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_generation_source",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:"source_prompt",args:null,kind:"ScalarField",name:"user_prompt",storageKey:null}],type:"XFBGENAIVideoGen",abstractKey:null},t],storageKey:null}],type:"XFBGENAIImagineComposedMedia",abstractKey:null},O={condition:"__relay_internal__pv__kadabra_moodboardrelayprovider",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:[{kind:"TypeDiscriminator",abstractKey:"__isGENAICanBeMoodboardMediaItem"}],type:"XFBGENAIImagineImage",abstractKey:null}]},B={condition:"__relay_internal__pv__kadabra_create_media_deletionrelayprovider",kind:"Condition",passingValue:!0,selections:[e]},W={kind:"InlineFragment",selections:[P],type:"XFBGENAIImagineAnimatedVideo",abstractKey:null},q={kind:"InlineFragment",selections:[{alias:null,args:C,concreteType:"Image",kind:"LinkedField",name:"media_image",plural:!1,selections:[N],storageKey:null}],type:"XFBGenAIMediaWithImage",abstractKey:"__isXFBGenAIMediaWithImage"},U={alias:null,args:null,concreteType:"XFBVideoDeliveryFailureReason",kind:"LinkedField",name:"failure_reason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_params",storageKey:null}],storageKey:null},V={kind:"InlineFragment",selections:[S,{kind:"InlineFragment",selections:[{alias:"videoDeliveryResponseResult",args:[{kind:"Variable",name:"video_delivery_request",variableName:"__relay_internal__pv__KadabraVideoDeliveryRequestrelayprovider"}],concreteType:"XFBVideoDeliveryResponse",kind:"LinkedField",name:"video_delivery_response",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDashManifestResponse",kind:"LinkedField",name:"dash_manifests",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_xml",storageKey:null},U],storageKey:null},{alias:null,args:null,concreteType:"XFBDashManifestUrlResponse",kind:"LinkedField",name:"dash_manifest_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_url",storageKey:null},U],storageKey:null},{alias:null,args:null,concreteType:"XFBProgressiveUrlResponse",kind:"LinkedField",name:"progressive_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"progressive_url",storageKey:null},U,{alias:null,args:null,concreteType:"XFBProgressiveUrlMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"quality",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBHlsPlaylistUrlResponse",kind:"LinkedField",name:"hls_playlist_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"hls_playlist_url",storageKey:null},U],storageKey:null}],storageKey:null}],type:"XFBGenAIMediaWithXPVDelivery",abstractKey:"__isXFBGenAIMediaWithXPVDelivery"}],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"},H={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"public_post_or_conversation",plural:!1,selections:[e,t],storageKey:null}],type:"XFBGenAIVideoWithPublicPostOrConversation",abstractKey:"__isXFBGenAIVideoWithPublicPostOrConversation"},G={alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[E,t],storageKey:null},z={kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[i,L,k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[I],storageKey:null}],type:"XFBImagineMediaWithGenerationStatus",abstractKey:"__isXFBImagineMediaWithGenerationStatus"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[T,h,R],storageKey:null}],type:"XFBImagineMediaWithGenerationStatus",abstractKey:"__isXFBImagineMediaWithGenerationStatus"}],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"}],type:"XFBGenAIPostVideo",abstractKey:"__isXFBGenAIPostVideo"},j={kind:"InlineFragment",selections:[p,{kind:"InlineFragment",selections:[_,f,g,h,y,v,{kind:"InlineFragment",selections:[S,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:x,storageKey:null}],type:"XFBGenAIMediaWithGenerationStatus",abstractKey:"__isXFBGenAIMediaWithGenerationStatus"},z],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"},$,z,w,A,F,O,B,W,q,V,H],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"}],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"},K=[{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,G,r,{condition:"__relay_internal__pv__kadabra_story_builder_enabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBGENAIMovieScene",kind:"LinkedField",name:"scene",plural:!1,selections:[t,{alias:null,args:null,concreteType:"XFBGENAIImagineVideoProjectVersion",kind:"LinkedField",name:"project_version",plural:!1,selections:n,storageKey:null}],storageKey:null}]},o,j],storageKey:null}],Q=[{alias:null,args:null,concreteType:"XFBGENAIImagineComposedMedia",kind:"LinkedField",name:"nodes",plural:!0,selections:[G,t,r,j],storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"KadabraMessageImagineVideoContentRenderer_data$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"imagine_video",plural:!1,selections:[e,{alias:null,args:null,concreteType:"XFBGENAIImagineVideoProjectVersion",kind:"LinkedField",name:"project_version",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineVideoProject",kind:"LinkedField",name:"project",plural:!1,selections:n,storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIVideoGen",kind:"LinkedField",name:"video",plural:!1,selections:[t,r,o,{kind:"InlineFragment",selections:[p,{kind:"InlineFragment",selections:[_,f,g,h,y,v,{kind:"InlineFragment",selections:[S,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineMediaGenerationStatus",kind:"LinkedField",name:"generation_status",plural:!1,selections:[R,t],storageKey:null}],type:"XFBGenAIMediaWithGenerationStatus",abstractKey:"__isXFBGenAIMediaWithGenerationStatus"},D],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"},$,D,w,A,F,O,B,W,q,V,H],type:"XFBAbraMediaLibrary",abstractKey:"__isXFBAbraMediaLibrary"}],type:"XFBGenAIVideo",abstractKey:"__isXFBGenAIVideo"}],storageKey:null},t,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIPublicPostImagineVideoContentVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"XFBGENAIPublicPostImagineVideoContentComposedMediasConnection",kind:"LinkedField",name:"composed_medias",plural:!1,selections:Q,storageKey:null}],type:"XFBGENAIPublicPostImagineVideoContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGenAIImagineVideoCardVideosConnection",kind:"LinkedField",name:"videos",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"XFBGenAIImagineVideoCardComposedMediasConnection",kind:"LinkedField",name:"composed_medias",plural:!1,selections:Q,storageKey:null}],type:"XFBGenAIImagineVideoCard",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBGENAIImagineComposedMedia",kind:"LinkedField",name:"composed_media",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"media_url",storageKey:null},G,r,j],storageKey:null}],type:"XFBGenAIImagineComposedMediaAssoc",abstractKey:"__isXFBGenAIImagineComposedMediaAssoc"}],storageKey:null}]}})();a.exports=e}),null);