;/*FB_PKG_DELIM*/

__d("KadabraPageLayoutHeaderLogo.react",["fbt","ix","AbraConversationUtils","CometPressable.react","KDSAnimatedLogo.react","KDSFlexbox.react","KDSImage.react","KadabraRouteUtils","react","react-compiler-runtime","useAbraLatestResponseStreamingState"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useState,_={logo:{height:"x10w6t97",top:"xndqk7f",insetInlineEnd:"xxx7yvo",bottom:"xbfrwjf",insetInlineStart:"x1v1hl4c",position:"x10l6tqk",width:"x1td3qas",$$css:!0},pressable:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0},root:{height:"x1vqgdyp",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x100vrsf",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(27),n=e.externalConversationID,a=e.onPress,i=e.ref,l=e.xstyle,d=p(!1),f=d[0],g=d[1],h=r("useAbraLatestResponseStreamingState")(n!=null?n:null),y;t[0]!==h?(y=o("AbraConversationUtils").isStreamingStateLoading(h),t[0]=h,t[1]=y):y=t[1];var C=y,b=p(C),v=b[0],S=b[1],R,L;t[2]!==C||t[3]!==v?(R=function(){C&&!v&&S(!0)},L=[C,v],t[2]=C,t[3]=v,t[4]=R,t[5]=L):(R=t[4],L=t[5]),m(R,L);var E=p(!1),k=E[0],I=E[1],T;t[6]!==l?(T=[_.root,l],t[6]=l,t[7]=T):T=t[7];var D,x;t[8]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"Meta.AI home page link"),x={url:o("KadabraRouteUtils").kadabraRouteHome()},t[8]=D,t[9]=x):(D=t[8],x=t[9]);var $;t[10]!==f?($=!f&&c.jsx(r("KDSImage.react"),{src:u("870441"),xstyle:_.logo}),t[10]=f,t[11]=$):$=t[11];var P,N;t[12]===Symbol.for("react.memo_cache_sentinel")?(P=function(){return g(!0)},N=function(){return I(!0)},t[12]=P,t[13]=N):(P=t[12],N=t[13]);var M;t[14]!==C?(M=function(){return S(C)},t[14]=C,t[15]=M):M=t[15];var w=!k||v,A;t[16]!==M||t[17]!==w?(A=c.jsx(r("KDSAnimatedLogo.react"),{animationType:"fast-rotation-bold",onLoad:P,onProgress:N,onRepeatEnd:M,playing:w,size:32,xstyle:_.logo}),t[16]=M,t[17]=w,t[18]=A):A=t[18];var F;t[19]!==a||t[20]!==A||t[21]!==$?(F=c.jsxs(r("CometPressable.react"),{"aria-label":D,linkProps:x,onPress:a,overlayFocusRingPosition:"inset",xstyle:_.pressable,children:[$,A]}),t[19]=a,t[20]=A,t[21]=$,t[22]=F):F=t[22];var O;return t[23]!==i||t[24]!==F||t[25]!==T?(O=c.jsx(r("KDSFlexbox.react"),{ref:i,xstyle:T,children:F}),t[23]=i,t[24]=F,t[25]=T,t[26]=O):O=t[26],O}l.default=f}),226);
__d("KadabraPromptHeaderActions_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraPromptHeaderActions_post",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"external_conversation_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_type",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"viewer_actions",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"KadabraSharePromptButton_data"},{args:null,kind:"FragmentSpread",name:"KadabraPostHeaderOverflowButton_data"}],type:"GenAIPostBase",abstractKey:"__isGenAIPostBase"};a.exports=e}),null);
__d("KadabraPromptHeaderActions.react",["CometRelay","KadabraPostHeaderOverflowButton.react","KadabraPromptHeaderActions_post.graphql","KadabraSharePromptButton.react","react","react-compiler-runtime","useAbraIsStreaming"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(12),i=t.post,l=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraPromptHeaderActions_post.graphql"),i),s=r("useAbraIsStreaming")(l.external_conversation_id),c=s.isGenerating,d=s.isStreaming,m=c||d||l.external_conversation_id===l.id,p=l.post_type==="LINK_SNAPSHOT"&&l.viewer_actions.includes("SHARE"),_;if(a[0]!==l.viewer_actions){var f;_=l.viewer_actions.includes("CAN_POST")||((f=l.viewer_actions)==null?void 0:f.includes("DELETE_SNAPSHOT_LINK")),a[0]=l.viewer_actions,a[1]=_}else _=a[1];var g=_,h;a[2]!==p||a[3]!==m||a[4]!==l||a[5]!==g?(h=(g||p)&&u.jsx(r("KadabraSharePromptButton.react"),{data:l,isDisabled:m}),a[2]=p,a[3]=m,a[4]=l,a[5]=g,a[6]=h):h=a[6];var y=h,C;a[7]!==l?(C=u.jsx(r("KadabraPostHeaderOverflowButton.react"),{data:l}),a[7]=l,a[8]=C):C=a[8];var b;return a[9]!==y||a[10]!==C?(b=u.jsxs(u.Fragment,{children:[y,C]}),a[9]=y,a[10]=C,a[11]=b):b=a[11],b}l.default=c}),98);
__d("KadabraPromptHeader_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraPromptHeader_post",selections:[{alias:"wearable_surface_display_name",args:null,kind:"ScalarField",name:"surface_display_name",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"artifacts",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"artifact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ai_generated_identifier",storageKey:null},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraPrivatePostHeaderTitle_artifact"}],type:"GENAIArtifact",abstractKey:"__isGENAIArtifact"},kind:"AliasedInlineFragmentSpread",name:"KadabraPrivatePostHeaderTitle_artifact"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"KadabraPromptHeaderActions_post"},{args:null,kind:"FragmentSpread",name:"KadabraPrivatePostHeaderTitle_data"},{args:null,kind:"FragmentSpread",name:"useKadabraPromptAttribution_post"}],type:"GenAIPostBase",abstractKey:"__isGenAIPostBase"};a.exports=e}),null);
__d("KadabraPromptHeader.react",["AbraActiveArtifactContext.react","CometRelay","KDSFlexbox.react","KDSIcon.react","KDSText.react","KadabraActionTargetAreaContext","KadabraPageLayoutNavMobile.react","KadabraPageLayoutNavMobileNavButton.react","KadabraPrivatePostHeaderTitle.react","KadabraPromptHeaderActions.react","KadabraPromptHeader_post.graphql","KadabraVoiceHeaderIndicator.react","MetaBrandSmartGlassesOutline24Icon.react","react","react-compiler-runtime","useKadabraGetPromptParams","useKadabraPromptAttribution"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.use;function d(t){var a,i=o("react-compiler-runtime").c(22),l=t.post,s=o("CometRelay").useFragment(e!==void 0?e:e=n("KadabraPromptHeader_post.graphql"),l),d=r("useKadabraPromptAttribution")(s),m=d.attributionIconSVG,p=d.attributionSubtitle,_=c(o("AbraActiveArtifactContext.react").AbraActiveArtifactContext),f=_.activeArtifact,g=f.activeArtifactAiGeneratedId,h;if(i[0]!==g||i[1]!==s.artifacts){var y;h=s==null||(y=s.artifacts)==null||(y=y.find(function(e){var t;return((t=e.artifact)==null?void 0:t.ai_generated_identifier)===g}))==null?void 0:y.artifact,i[0]=g,i[1]=s.artifacts,i[2]=h}else h=i[2];var C=h,b=s==null||(a=s.artifacts)==null||(a=a[0])==null?void 0:a.artifact,v=C!=null?C:b,S=r("useKadabraGetPromptParams")(),R=S.voice,L=R===!0,E;i[3]!==L?(E=L?u.jsx(r("KadabraVoiceHeaderIndicator.react"),{}):null,i[3]=L,i[4]=E):E=i[4];var k=E,I;i[5]!==s?(I=u.jsx(r("KadabraPromptHeaderActions.react"),{post:s}),i[5]=s,i[6]=I):I=i[6];var T;i[7]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(r("KadabraPageLayoutNavMobileNavButton.react"),{}),i[7]=T):T=i[7];var D=s.wearable_surface_display_name!=null?"kadabra-wearable-feed-unit":null,x;i[8]!==m||i[9]!==p?(x=m&&u.jsxs(r("KDSFlexbox.react"),{alignItems:"center",direction:"row",gap:4,children:[u.jsx(r("KDSIcon.react"),{color:"secondary",icon:r("MetaBrandSmartGlassesOutline24Icon.react"),size:16}),u.jsx(r("KDSText.react"),{color:"secondary",maxLines:1,textStyle:"subtitle",children:p})]}),i[8]=m,i[9]=p,i[10]=x):x=i[10];var $=v==null?void 0:v.KadabraPrivatePostHeaderTitle_artifact,P;i[11]!==s||i[12]!==$?(P=u.jsx(r("KDSFlexbox.react"),{children:u.jsx(r("KadabraPrivatePostHeaderTitle.react"),{artifact:$,data:s})}),i[11]=s,i[12]=$,i[13]=P):P=i[13];var N;i[14]!==D||i[15]!==x||i[16]!==P?(N=u.jsxs(u.Fragment,{children:[T,u.jsxs(r("KDSFlexbox.react"),{direction:"column",grow:1,shrink:1,testid:void 0,children:[x,P]})]}),i[14]=D,i[15]=x,i[16]=P,i[17]=N):N=i[17];var M;return i[18]!==k||i[19]!==N||i[20]!==I?(M=u.jsx(o("KadabraActionTargetAreaContext").KadabraActionTargetAreaContextProvider,{value:"post_header",children:u.jsx(r("KadabraPageLayoutNavMobile.react"),{center:k,disableHeaderSpacer:!0,end:I,start:N})}),i[18]=k,i[19]=N,i[20]=I,i[21]=M):M=i[21],M}l.default=d}),98);
__d("KadabraPromptHeaderRootQuery.graphql",["KadabraPromptHeaderRootQuery_abraRelayOperation","KadabraConversationRenaming.relayprovider","KadabraSpacesEnabled.relayprovider","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"prompt_id"},t=[{kind:"Variable",name:"id",variableName:"prompt_id"}],r=[{args:null,kind:"FragmentSpread",name:"KadabraPromptHeaderRoot_post"}],o=[{kind:"Variable",name:"external_conversation_id",variableName:"prompt_id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={kind:"TypeDiscriminator",abstractKey:"__isXFBGenAIPostContentType"},l={alias:"wearable_surface_display_name",args:null,kind:"ScalarField",name:"surface_display_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"ai_generated_title",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"user_provided_title",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"artifacts",plural:!0,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"artifact",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"ai_generated_identifier",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isGENAIArtifact"},s,u,c],storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"external_conversation_id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"post_type",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"viewer_actions",storageKey:null},f={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"xab_viewer",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_logged_out",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_temporary",storageKey:null},c],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},h=[c],y={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XABConversationSnapshot",kind:"LinkedField",name:"snapshot",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_meta_only",storageKey:null}],type:"XFBGENAIPost",abstractKey:null},C={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XABConversationSnapshot",kind:"LinkedField",name:"snapshot",plural:!1,selections:[a,c],storageKey:null}],type:"XFBAbraGenAIStoredConversation",abstractKey:null},b={name:"title_text",args:null,fragment:{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"artifacts",plural:!0,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"artifact",plural:!1,selections:[a,s,u,c],storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__KadabraConversationRenamingrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_title",storageKey:null}]},{condition:"__relay_internal__pv__KadabraConversationRenamingrelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"title_entity",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"AbraMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},c],storageKey:null}],type:"XFBAbraPostTitle",abstractKey:null}],storageKey:null}]}],type:"XFBAbraGenAIStoredConversation",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"title_entity",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null}],type:"XFBGenAITextContent",abstractKey:null}],storageKey:null}],type:"XFBGenAIPostTitle",abstractKey:null}],storageKey:null}],type:"XFBGENAIPost",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"XABConversationSnapshot",abstractKey:null}],type:"GenAIPostBase",abstractKey:"__isGenAIPostBase"},kind:"RelayResolver",storageKey:null,isOutputType:!0},v={alias:null,args:null,concreteType:"XFBAbraGenAIStoredConversationAbraMessageListConnection",kind:"LinkedField",name:"abra_message_list",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"optimistic_title",storageKey:null},R=[{alias:null,args:null,concreteType:"XABSpace",kind:"LinkedField",name:"space",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],L={condition:"__relay_internal__pv__KadabraSpacesEnabledrelayprovider",kind:"Condition",passingValue:!0,selections:[{kind:"InlineFragment",selections:R,type:"XFBAbraGenAIStoredConversation",abstractKey:null},{kind:"InlineFragment",selections:R,type:"XFBGENAIPost",abstractKey:null}]},E={kind:"InlineFragment",selections:h,type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[e],kind:"Fragment",metadata:null,name:"KadabraPromptHeaderRootQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"xfb_genai_fetch_post",plural:!1,selections:r,storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"abra_stream_conversation",plural:!1,selections:r,storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__KadabraConversationRenamingrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__KadabraSpacesEnabledrelayprovider"}],kind:"Operation",name:"KadabraPromptHeaderRootQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"xfb_genai_fetch_post",plural:!1,selections:[a,i,{kind:"InlineFragment",selections:[l,d,c,m,p,_,f,g,y,C,b,{kind:"InlineFragment",selections:[v,{kind:"ClientExtension",selections:[S]}],type:"XFBAbraGenAIStoredConversation",abstractKey:null},L],type:"GenAIPostBase",abstractKey:"__isGenAIPostBase"},E],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"abra_stream_conversation",plural:!1,selections:[a,i,{kind:"InlineFragment",selections:[l,d,c,m,p,_,f,g,y,C,b,{kind:"InlineFragment",selections:[S,v],type:"XFBAbraGenAIStoredConversation",abstractKey:null},L],type:"GenAIPostBase",abstractKey:"__isGenAIPostBase"},E],storageKey:null}]}]},params:{id:n("KadabraPromptHeaderRootQuery_abraRelayOperation"),metadata:{},name:"KadabraPromptHeaderRootQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__KadabraConversationRenamingrelayprovider:n("KadabraConversationRenaming.relayprovider"),__relay_internal__pv__KadabraSpacesEnabledrelayprovider:n("KadabraSpacesEnabled.relayprovider")}}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("KadabraPromptHeaderRoot_post.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"KadabraPromptHeaderRoot_post",selections:[{kind:"InlineFragment",selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"KadabraPromptHeader_post"}],type:"GenAIPostBase",abstractKey:"__isGenAIPostBase"},kind:"AliasedInlineFragmentSpread",name:"KadabraPromptHeader_post"}],type:"GenAIPostBase",abstractKey:"__isGenAIPostBase"}],type:"XFBGenAIPostContentType",abstractKey:"__isXFBGenAIPostContentType"};a.exports=e}),null);
__d("KadabraPromptHeaderRoot.react",["CometRelay","KadabraPageLayoutHeaderLogo.react","KadabraPageLayoutNavMobile.react","KadabraPageLayoutNavMobileNavButton.react","KadabraPromptHeader.react","KadabraPromptHeaderRootQuery.graphql","KadabraPromptHeaderRoot_post.graphql","react","react-compiler-runtime","useKadabraPageLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d={logo:{viewTransitionName:"x3qffmf",$$css:!0}};function m(t){var a,i=o("react-compiler-runtime").c(3),l=t.queries,u=l.queryRef,m=o("CometRelay").usePreloadedQuery(e!==void 0?e:e=n("KadabraPromptHeaderRootQuery.graphql"),u),p=o("CometRelay").useFragment(s!==void 0?s:s=n("KadabraPromptHeaderRoot_post.graphql"),(a=m.abra_stream_conversation)!=null?a:m.xfb_genai_fetch_post),_=r("useKadabraPageLayout")(),f=_.isDesktopLayout;if(f)return null;if(p==null||p.KadabraPromptHeader_post==null){var g;return i[0]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx(r("KadabraPageLayoutNavMobile.react"),{center:c.jsx(r("KadabraPageLayoutHeaderLogo.react"),{xstyle:d.logo}),start:c.jsx(r("KadabraPageLayoutNavMobileNavButton.react"),{})}),i[0]=g):g=i[0],g}var h;return i[1]!==p.KadabraPromptHeader_post?(h=c.jsx(r("KadabraPromptHeader.react"),{post:p.KadabraPromptHeader_post}),i[1]=p.KadabraPromptHeader_post,i[2]=h):h=i[2],h}l.default=m}),98);